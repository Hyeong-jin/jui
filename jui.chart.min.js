!function(a,b){var c={jquery:b},d={},e=function(a,b){function c(b,c){var d=a[b];a[b]=a[c],a[c]=d}function d(b,d,f){var g=d,h=a[b];c(b,f);for(var i=d;f>i;i++)(e(a[i],h)||!e(h,a[i])&&i%2==1)&&(c(i,g),g++);return c(f,g),g}var e=null,a=b?a.slice(0):a;this.setCompare=function(a){e=a},this.run=function(b,c){var e=null;return"number"!=typeof b&&(b=0),"number"!=typeof c&&(c=a.length-1),c>b&&(e=b+Math.ceil(.5*(c-b)),newPivot=d(e,b,c),this.run(b,newPivot-1),this.run(newPivot+1,c)),a}},f=function(){this.isIndexDepth=function(a){return"string"==typeof a&&-1!=a.indexOf(".")?!0:!1},this.getIndexList=function(a){var b=[],c=""+a;if(1==c.length)b[0]=parseInt(a);else for(var d=c.split("."),e=0;e<d.length;e++)b[e]=parseInt(d[e]);return b},this.changeIndex=function(a,b,c){for(var d=this.getIndexList(c).length,e=this.getIndexList(a),f=this.getIndexList(b),g=0;d>g;g++)e.shift();return f.concat(e).join(".")},this.getNextIndex=function(a){var b=this.getIndexList(a),c=b.pop()+1;return b.push(c),b.join(".")},this.getParentIndex=function(a){if(!this.isIndexDepth(a))return null;var b=this.getIndexList(a);return 2==b.length?""+b[0]:b.length>2?(b.pop(),b.join(".")):void 0}},g={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,h,i,j="",k=0;for(a=g._utf8_encode(a);k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,h=(15&c)<<2|d>>6,i=63&d,isNaN(c)?h=i=64:isNaN(d)&&(i=64),j=j+g._keyStr.charAt(e)+g._keyStr.charAt(f)+g._keyStr.charAt(h)+g._keyStr.charAt(i);return j},decode:function(a){var b,c,d,e,f,h,i,j="",k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;)e=g._keyStr.indexOf(a.charAt(k++)),f=g._keyStr.indexOf(a.charAt(k++)),h=g._keyStr.indexOf(a.charAt(k++)),i=g._keyStr.indexOf(a.charAt(k++)),b=e<<2|f>>4,c=(15&f)<<4|h>>2,d=(3&h)<<6|i,j+=String.fromCharCode(b),64!=h&&(j+=String.fromCharCode(c)),64!=i&&(j+=String.fromCharCode(d));return j=g._utf8_decode(j)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b=String.fromCharCode(239)+String.fromCharCode(187)+String.fromCharCode(191),c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},h=function(a,b,c){var d={},e={},f=Array.prototype,g=f.slice,h=f.forEach,i={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var j in i)i[i[j]]=j;var k=/\\|'|\r|\n|\t|\u2028|\u2029/g,l=/\\(\\|'|r|n|t|u2028|u2029)/g,m=/.^/,n=function(a){return a.replace(l,function(a,b){return i[b]})},o=d.each=d.forEach=function(a,b,c){if(null!=a)if(h&&a.forEach===h)a.forEach(b,c);else if(a.length===+a.length){for(var f=0,g=a.length;g>f;f++)if(f in a&&b.call(c,a[f],f,a)===e)return}else for(var i in a)if(d.has(a,i)&&b.call(c,a[i],i,a)===e)return};return d.has=function(a,b){return hasOwnProperty.call(a,b)},d.defaults=function(a){return o(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},d.templateSettings={evaluate:/<\!([\s\S]+?)\!>/g,interpolate:/<\!=([\s\S]+?)\!>/g,escape:/<\!-([\s\S]+?)\!>/g},d.template=function(a,b,c){c=d.defaults(c||{},d.templateSettings);var e="__p+='"+a.replace(k,function(a){return"\\"+i[a]}).replace(c.escape||m,function(a,b){return"'+\n_.escape("+n(b)+")+\n'"}).replace(c.interpolate||m,function(a,b){return"'+\n("+n(b)+")+\n'"}).replace(c.evaluate||m,function(a,b){return"';\n"+n(b)+"\n;__p+='"})+"';\n";c.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n";var f=new Function(c.variable||"obj","_",e);if(b)return f(b,d);var g=function(a){return f.call(this,a,d)};return g.source="function("+(c.variable||"obj")+"){\n"+e+"}",g},d.template(a,b,c)},i=c["util.base"]={browser:{webkit:window.webkitURL?!0:!1,mozilla:window.mozInnerScreenX?!0:!1,msie:-1!=navigator.userAgent.indexOf("Trident")?!0:!1},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),scrollWidth:function(){var a=b(".jui").size()>0&&this.browser.webkit?!0:!1,c=b('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');b("body").append(c);var d=b("div",c).innerWidth();c.css("overflow-y","auto");var e=b("div",c).innerWidth();return b(c).remove(),a?10:d-e},inherit:function(a,b){a.prototype=new b,a.prototype.constructor=a,a.prototype.parent=a.prototype},extend:function(a,b){if(!b||"object"!=typeof b)return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a},pxToInt:function(a){return"string"==typeof a&&-1!=a.indexOf("px")?parseInt(a.split("px").join("")):a},clone:function(a){var c=b.isArray(a)?[]:{};for(var d in a)c[d]="object"==typeof a[d]?this.clone(a[d]):a[d];return c},deepClone:function(a){var b="";if(this.typeCheck("array",a)){b=[];for(var c=0,d=a.length;d>c;c++)b[c]=this.deepClone(a[c])}else if(this.typeCheck("date",a))b=a;else if(this.typeCheck("object",a)){b={};for(var e in a)b[e]=this.deepClone(a[e])}else b=a;return b},sort:function(a){return new e(a)},runtime:function(a,b){var c=(new Date).getTime();b();var d=(new Date).getTime();console.log(a+" : "+(d-c)+"ms")},template:function(a,b){return b?h(a,b):h(a)},resize:function(a,c){var d=function(){var b=0;return function(){clearTimeout(b),b=setTimeout(a,c)}}();b(window).resize(function(){d()})},index:function(){return new f},chunk:function(a,b){for(var c=[],d=0,e=a.length;e>d;)c.push(a.slice(d,d+=b));return c},typeCheck:function(a,b){function c(a,b){return{string:"string"==typeof b?!0:!1,integer:"number"==typeof b&&b%1==0?!0:!1,"float":"number"==typeof b&&b%1!=0?!0:!1,number:"number"==typeof b?!0:!1,object:"object"==typeof b&&null!==b?!0:!1,"function":"function"==typeof b?!0:!1,array:null!=b&&"object"==typeof b&&"number"==typeof b.length?!0:!1,"boolean":"boolean"==typeof b?!0:!1,undefined:"undefined"==typeof b?!0:!1,"null":null===b?!0:!1,date:"object"==typeof b&&null!==b&&"function"==typeof b.getTime?!0:!1}[a]}if("object"==typeof a&&a.length){for(var d=a,e=0;e<d.length;e++)if(c(d[e],b))return!0;return!1}return c(a,b)},typeCheckObj:function(a,b){if("object"==typeof a){var c=this;for(var d in a){var e=a[d];"function"==typeof e&&!function(d,e){a[d]=function(){for(var a=arguments,f=b[d],g=0;g<a.length;g++)if(!c.typeCheck(f[g],a[g]))throw new Error("JUI_CRITICAL_ERR: the "+g+"th parameter is not a "+f[g]+" ("+name+")");return e.apply(this,a)}}(d,e)}}},dataToCsv:function(a,b,c){for(var d="",e=c?c:b.length,f=-1;e>f;f++){for(var g=[],h=0;h<a.length;h++)a[h]&&g.push(-1==f?a[h]:b[f][a[h]]);d+=g.join(",")+"\n"}return d},dataToCsv2:function(a){for(var c="",d=b.extend({fields:null,rows:null,names:null,count:this.typeCheck("integer",a.count)?a.count:a.rows.length},a),e=-1;e<d.count;e++){for(var f=[],g=0;g<d.fields.length;g++)d.fields[g]&&f.push(-1==e?d.names&&d.names[g]?d.names[g]:d.fields[g]:d.rows[e][d.fields[g]]);c+=f.join(",")+"\n"}return c},fileToCsv:function(a,b){var c=new FileReader;c.onload=function(a){"function"==typeof b&&b(a.target.result)},c.readAsText(a)},csvToBase64:function(a){return"data:application/octet-stream;base64,"+g.encode(a)},csvToData:function(a,c,d){for(var e=[],f=c.split("\n"),g=1;g<f.length;g++)if(""!=f[g]){for(var h=f[g].split(","),i={},j=0;j<a.length;j++)i[a[j]]=h[j],-1!=b.inArray(a[j],d)&&(i[a[j]]=parseFloat(h[j]));e.push(i)}return e},getCsvFields:function(a,b){for(var c=this.typeCheck("array",b)?b:a,d=0;d<c.length;d++)isNaN(c[d])||(c[d]=a[c[d]]);return c},svgToBase64:function(a){return"data:image/svg+xml;base64,"+g.encode(a)},dateFormat:function(a,b,c){function d(a,b){var c=a+"";for(b=b||2;c.length<b;)c="0"+c;return c}var e=["\x00","January","February","March","April","May","June","July","August","September","October","November","December"],f=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=c?a.getUTCFullYear():a.getFullYear();b=b.replace(/(^|[^\\])yyyy+/g,"$1"+i),b=b.replace(/(^|[^\\])yy/g,"$1"+i.toString().substr(2,2)),b=b.replace(/(^|[^\\])y/g,"$1"+i);var j=(c?a.getUTCMonth():a.getMonth())+1;b=b.replace(/(^|[^\\])MMMM+/g,"$1"+e[0]),b=b.replace(/(^|[^\\])MMM/g,"$1"+f[0]),b=b.replace(/(^|[^\\])MM/g,"$1"+d(j)),b=b.replace(/(^|[^\\])M/g,"$1"+j);var k=c?a.getUTCDate():a.getDate();b=b.replace(/(^|[^\\])dddd+/g,"$1"+g[0]),b=b.replace(/(^|[^\\])ddd/g,"$1"+h[0]),b=b.replace(/(^|[^\\])dd/g,"$1"+d(k)),b=b.replace(/(^|[^\\])d/g,"$1"+k);var l=c?a.getUTCHours():a.getHours();b=b.replace(/(^|[^\\])HH+/g,"$1"+d(l)),b=b.replace(/(^|[^\\])H/g,"$1"+l);var m=l>12?l-12:0==l?12:l;b=b.replace(/(^|[^\\])hh+/g,"$1"+d(m)),b=b.replace(/(^|[^\\])h/g,"$1"+m);var n=c?a.getUTCMinutes():a.getMinutes();b=b.replace(/(^|[^\\])mm+/g,"$1"+d(n)),b=b.replace(/(^|[^\\])m/g,"$1"+n);var o=c?a.getUTCSeconds():a.getSeconds();b=b.replace(/(^|[^\\])ss+/g,"$1"+d(o)),b=b.replace(/(^|[^\\])s/g,"$1"+o);var p=c?a.getUTCMilliseconds():a.getMilliseconds();b=b.replace(/(^|[^\\])fff+/g,"$1"+d(p,3)),p=Math.round(p/10),b=b.replace(/(^|[^\\])ff/g,"$1"+d(p)),p=Math.round(p/10),b=b.replace(/(^|[^\\])f/g,"$1"+p);var q=12>l?"AM":"PM";b=b.replace(/(^|[^\\])TT+/g,"$1"+q),b=b.replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var r=q.toLowerCase();b=b.replace(/(^|[^\\])tt+/g,"$1"+r),b=b.replace(/(^|[^\\])t/g,"$1"+r.charAt(0));var s=-a.getTimezoneOffset(),t=c||!s?"Z":s>0?"+":"-";if(!c){s=Math.abs(s);var u=Math.floor(s/60),v=s%60;t+=d(u)+":"+d(v)}b=b.replace(/(^|[^\\])K/g,"$1"+t);var w=(c?a.getUTCDay():a.getDay())+1;return b=b.replace(new RegExp(g[0],"g"),g[w]),b=b.replace(new RegExp(h[0],"g"),h[w]),b=b.replace(new RegExp(e[0],"g"),e[j]),b=b.replace(new RegExp(f[0],"g"),f[j]),b=b.replace(/\\(.)/g,"$1")},btoa:g.encode,atob:g.decode},j=function(a){for(var b=[],d=0;d<a.length;d++){var e=c[a[d]];if(i.typeCheck(["function","object"],e))b.push(e);else{var f=k(a[d]);if(null==f)throw new Error("JUI_CRITICAL_ERR: '"+a[d]+"' is not loaded");b.push(f)}}return b},k=function(a){var b=null,a=a+".";for(var d in c)if(-1!=d.indexOf(a)&&i.typeCheck(["function","object"],c[d])){var e=d.split(a).join("");-1==e.indexOf(".")&&(null==b&&(b={}),b[e]=c[d])}return b};a.jui={ready:function(){var a=[],c=2==arguments.length?arguments[1]:arguments[0],d=2==arguments.length?arguments[0]:null;if(!i.typeCheck(["array","null"],d)||!i.typeCheck("function",c))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");b(function(){a=d?j(d):[k("ui"),k("uix"),i],c.apply(null,a)})},defineUI:function(a,b,e,f){if(!(i.typeCheck("string",a)&&i.typeCheck("array",b)&&i.typeCheck("function",e)&&i.typeCheck(["string","undefined"],f)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(i.typeCheck("function",c[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");if(i.typeCheck("undefined",f)&&(f="core"),!i.typeCheck("function",c[f]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(d[f]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var g=j(b),h=e.apply(null,g);i.inherit(h,c[f]),c[a]=c.core.init({type:a,"class":h})},define:function(a,b,e,f){if(!(i.typeCheck("string",a)&&i.typeCheck("array",b)&&i.typeCheck("function",e)&&i.typeCheck(["string","undefined"],f)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(i.typeCheck("function",c[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");var g=j(b),h=e.apply(null,g);if(i.typeCheck("function",c[f])){if(d[f]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");i.inherit(h,c[f])}c[a]=h,d[a]=!0},include:function(a){if(!i.typeCheck("string",a))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var b=c[a];if(i.typeCheck(["function","object"],b))return b;var d=k(a);if(null==d)throw new Error("JUI_CRITICAL_ERR: '"+a+"' is not loaded");return d},includeAll:function(){var a=[];for(var b in c)a.push(c[b]);return a},log:function(a){var b=window.open(a?a:this.logUrl,"JUIM","width=800, height=600, toolbar=no, menubar=no, resizable=yes");return jui.debugAll(function(a,c){b.log(a,c)}),b},logUrl:"jui.mng.html"}}(window,jQuery||$),jui.define("core",["jquery","util.base"],function(a,b){var c=new function(){var d=[],e=[];this.add=function(a){d.push(a)},this.get=function(a){var c=[];if(b.typeCheck("integer",a))return d[a];if(b.typeCheck("string",a))for(var e=0;e<d.length;e++)a==d[e].type?c.push(d[e]):-1!=d[e].type.indexOf("."+a)&&c.push(d[e]);return c},this.getAll=function(){return d},this.remove=function(a){return b.typeCheck("integer",a)?d.splice(a,1)[0]:void 0},this.shift=function(){return d.shift()},this.pop=function(){return d.pop()},this.size=function(){return d.length},this.debug=function(b,c,d,e){if(b.__proto__){var f=["emit","on","addEvent","addValid","callBefore","callAfter","callDelay","setTpl","setVo","setOption"];for(var g in b){var h=b[g];"function"==typeof h&&-1==a.inArray(g,f)&&!function(a,d,f,g){b.__proto__[a]=function(){var b=Date.now(),h=d.apply(this,arguments),i=Date.now();return"function"==typeof e?e({type:jui.get(c).type,name:a,c_index:f,u_index:g,time:i-b},arguments):(console.log(isNaN(f)||isNaN(g)?"NAME("+a+"), TIME("+(i-b)+"ms), ARGUMENTS...":"TYPE("+jui.get(c).type+"), NAME("+a+"), INDEX("+f+":"+g+"), TIME("+(i-b)+"ms), ARGUMENTS..."),console.log(arguments),console.log("")),h}}(g,h,c,d)}}},this.debugAll=function(a){for(var b=0;b<d.length;b++)for(var c=d[b].list,e=0;e<c.length;e++)this.debug(c[e],b,e,a)},this.addClass=function(a){e.push(a)},this.getClass=function(a){if(b.typeCheck("integer",a))return e[a];if(b.typeCheck("string",a))for(var c=0;c<e.length;c++){if(a==e[c].type)return e[c];if(-1!=e[c].type.indexOf("."+a))return e[c]}return null},this.getClassAll=function(){return e},this.create=function(a,d,e){var f=c.getClass(a);if(b.typeCheck("null",f))throw new Error("JUI_CRITICAL_ERR: '"+a+"' does not exist");return f["class"](d,e)}},d=function(){function c(b){for(var c=["webkit","moz","MS","o",""],d=0;d<c.length;d++){var e=b.type;c[d]||(e=e.toLowerCase()),a(b.target).on(c[d]+e,b.callback)}g.push(b)}function d(b){b.callback&&!b.children?a(b.target).on(b.type,b.callback):a(b.target).on(b.type,b.children,b.callback),g.push(b)}function e(b){b.callback&&!b.children?a(b.target).on(f(b.type),b.callback):a(b.target).on(f(b.type),b.children,b.callback),g.push(b)}function f(a){return{click:"touchstart",dblclick:"touchend",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}[a]}var g=[];this.add=function(f){var g={target:f[0],type:f[1]};b.typeCheck("function",f[2])?g=a.extend(g,{callback:f[2]}):b.typeCheck("string",f[2])&&(g=a.extend(g,{children:f[2],callback:f[3]}));for(var h=b.typeCheck("array",g.type)?g.type:[g.type],i=0;i<h.length;i++)g.type=h[i],-1!=g.type.toLowerCase().indexOf("animation")?c(g):("body"!=g.target&&g.target!=window&&a(g.target).unbind(g.type),b.isTouch?e(g):d(g))},this.trigger=function(c,d){a(c).trigger(b.isTouch?f(d):d)},this.get=function(a){return g[a]},this.getAll=function(){return g},this.size=function(){return g.length}},e=function(a,b,c,d){this.type=a,this.list=b,this.selector=c,this.options=d,this.destroy=function(){for(var a=0;a<this.list.length;a++)this.list[a].destroy()}},f=function(){var c=null;this.emit=function(a,b,c){for(var d=null,c=c?!0:!1,e=0;e<this.event.length;e++){var f=this.event[e];f.type==a.toLowerCase()&&f.unique===c&&(d="object"==typeof b&&void 0!=b.length?f.callback.apply(this,b):f.callback.call(this,b))}return c===!1?this.emit(a,b,!0):d},this.on=function(a,b){("string"==typeof a||"object"==typeof b)&&this.event.push({type:a.toLowerCase(),callback:b,unique:!1})},this.bind=function(a,b){("string"==typeof a||"object"==typeof b)&&(this.unbind(a),this.event.push({type:a.toLowerCase(),callback:b,unique:!0}))},this.unbind=function(a){for(var b=[],c=0;c<this.event.length;c++){var d=this.event[c];(d.type!=a.toLowerCase()||d.unique===!1)&&b.push(d)}this.event=b},this.addEvent=function(){this.listen.add(arguments)},this.addTrigger=function(a,b){this.listen.trigger(a,b)},this.addValid=function(a,c){if(this.__proto__){var d=this.__proto__[a];this.__proto__[a]=function(){for(var e=arguments,f=0;f<e.length;f++)if(!b.typeCheck(c[f],e[f]))throw new Error("JUI_CRITICAL_ERR: the "+f+"th parameter is not a "+c[f]+" ("+a+")");return d.apply(this,e)}}},this.callBefore=function(a,b){if(this.__proto__){var c=this.__proto__[a];this.__proto__[a]=function(){var a=arguments;return"function"!=typeof b?c.apply(this,a):b.apply(this,a)!==!1?c.apply(this,a):void 0}}},this.callAfter=function(a,b){if(this.__proto__){var c=this.__proto__[a];this.__proto__[a]=function(){var a=arguments,d=c.apply(this,a);return"function"==typeof b&&d!==!1&&b.apply(this,a),d}}},this.callDelay=function(a,b){function c(a,c){var e=d.apply(a,c);"function"==typeof b.after&&e!==!1&&b.after.apply(a,c)}if(this.__proto__){var d=this.__proto__[a],e=isNaN(b.delay)?0:b.delay;this.__proto__[a]=function(){var a=this,d=arguments;"function"==typeof b.before&&b.before.apply(a,d),e>0?setTimeout(function(){c(a,d)},e):c(a,d)}}},this.setTpl=function(a,c){this.tpl[a]=b.template(c)},this.setVo=function(){this.options.vo&&(null!=c&&c.reload(),c=a(this.selector).jbinder(),this.bind=c)},this.setOption=function(a,b){if("object"==typeof a)for(var c in a)this.options[c]=a[c];else this.options[a]=b},this.destroy=function(){if(this.__proto__){for(var a=0;a<this.listen.size();a++){var b=this.listen.get(a);b.target.unbind(b.type)}for(var c in this.__proto__)delete this.__proto__[c]}}};return f.build=function(f){function g(b,c){var d=["event","tpl","vo"],e=[],f=[];for(var g in b)e.push(g);for(var g in c)f.push(g);for(var h=0;h<f.length;h++){var i=f[h];if(-1==a.inArray(i,e)&&-1==a.inArray(i,d))throw new Error("JUI_CRITICAL_ERR: '"+i+"' is not an option")}}return function(h,i){var j=a(h),k=[],l=b.typeCheck("function",f["class"].setup)?f["class"].setup():{};return j.each(function(c){var e=new f["class"],m=b.typeCheck("object",l.options)?l.options:{};g(m,i);var n=a.extend(!0,m,i);if(n.tpl=b.typeCheck("object",n.tpl)?n.tpl:{},e.init.prototype=e,e.init.prototype.selector=j.selector,e.init.prototype.root=this,e.init.prototype.options=n,e.init.prototype.tpl={},e.init.prototype.event=new Array,e.init.prototype.listen=new d,e.init.prototype.timestamp=(new Date).getTime(),e.init.prototype.index=0==j.size()?null:c,e.init.prototype.module=f,a("script").each(function(){if(h==a(this).data("jui")||h==a(this).data("vo")){var b=a(this).data("tpl");if(""==b)throw new Error("JUI_CRITICAL_ERR: 'data-tpl' property is required");n.tpl[b]=a(this).html()}}),b.typeCheck("object",n.tpl))for(var o in n.tpl){var p=n.tpl[o];b.typeCheck("string",p)&&""!=p&&(e.init.prototype.tpl[o]=b.template(p))}var q=new e.init,r=b.typeCheck("object",l.valid)?l.valid:{},s=b.typeCheck("object",l.animate)?l.animate:{};if(b.typeCheck("object",q.options.event))for(var t in q.options.event)q.on(t,q.options.event[t]);for(var t in r)b.typeCheck("array",r[t])&&q.addValid(t,r[t]);if(n.animate===!0)for(var t in s)b.typeCheck("object",s[t])&&q.callDelay(t,s[t]);k[c]=q}),c.add(new e(f.type,k,h,i)),1==k.length?k[0]:k}},f.init=function(a){var b=null;return"object"==typeof a&&(b=f.build(a),c.addClass({type:a.type,"class":b})),b},window.jui="object"==typeof jui?a.extend(jui,c):c,f}),jui.define("util.math",[],function(){var a={rotate:function(a,b,c){return{x:a*Math.cos(c)-b*Math.sin(c),y:a*Math.sin(c)+b*Math.cos(c)}},radian:function(a){return a*Math.PI/180},degree:function(a){return 180*a/Math.PI},interpolateNumber:function(a,b){return function(c){return a+(b-a)*c}},interpolateRound:function(a,b){var c=this.interpolateNumber(a,b);return function(a){return Math.round(c(a))}},nice:function(a,b,c,d){function e(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return niceFraction=b?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10,niceFraction*Math.pow(10,c)}function f(){m=d?e(g-h,!1):g-h,l=d?e(m/k,!0):m/k,i=d?Math.floor(h/l)*l:h,j=d?Math.floor(g/l)*l:g}if(d=d||!1,a>b)var g=a,h=b;else var h=a,g=b;var i,j,k=c,l=0,m=[];return f(),{min:i,max:j,range:m,spacing:l}}};return a}),jui.define("util.time",["util.base"],function(a){var b={years:1,months:2,days:3,hours:4,minutes:5,seconds:6,milliseconds:7,weeks:8,add:function(a){if(arguments.length<=2)return a;if(arguments.length>2){for(var b=new Date(+a),c=1;c<arguments.length;c+=2){var d=arguments[c],e=arguments[c+1];this.years==d?b.setFullYear(b.getFullYear()+e):this.months==d?b.setMonth(b.getMonth()+e):this.days==d?b.setDate(b.getDate()+e):this.hours==d?b.setHours(b.getHours()+e):this.minutes==d?b.setMinutes(b.getMinutes()+e):this.seconds==d?b.setSeconds(b.getSeconds()+e):this.milliseconds==d?b.setMilliseconds(b.getMilliseconds()+e):this.weeks==d&&b.setDate(b.getDate()+7*e)}return b}},format:function(b,c,d){return a.dateFormat(b,c,d)}};return b}),jui.define("util.scale",["util.math","util.time"],function(a,b){var c={circle:function(){function a(){}var b=[],c=[],d=0;return a.domain=function(a){if("undefined"==typeof a)return b;for(var c=0;c<a.length;c++)b[c]=a[c];return this},a.range=function(a){if("undefined"==typeof a)return c;for(var b=0;b<a.length;b++)c[b]=a[b];return this},a.rangePoints=function(e,f){f=f||0;for(var g=b.length,h=(e[1]-e[0]-f)/g,i=[],j=0;j<b.length;j++)i[j]=0==j?e[0]+f/2+h/2:i[j-1]+h;return c=i,d=h,a},a.rangeBands=function(e,f,g){f=f||0,g=g||0;for(var h=b.length,i=h-1,j=(e[1]-e[0])/i,k=[],l=0;l<b.length;l++)k[l]=0==l?e[0]:j+k[l-1];return d=j,c=k,a},a.rangeBand=function(){return d},a},ordinal:function(){function a(a){for(var d=-1,e=0;e<b.length;e++)if(b[e]==a){d=e;break}return d>-1?c[d]:"undefined"!=typeof c[a]?(b[a]=a,c[a]):null}var b=[],c=[],d=0;return a.domain=function(a){if("undefined"==typeof a)return b;for(var c=0;c<a.length;c++)b[c]=a[c];return this},a.range=function(a){if("undefined"==typeof a)return c;for(var b=0;b<a.length;b++)c[b]=a[b];return this},a.rangePoints=function(e,f){f=f||0;for(var g=b.length,h=(e[1]-e[0]-f)/g,i=[],j=0;j<b.length;j++)i[j]=0==j?e[0]+f/2+h/2:i[j-1]+h;return c=i,d=h,a},a.rangeBands=function(e,f,g){f=f||0,g=g||0;for(var h=b.length,i=h-1,j=(e[1]-e[0])/i,k=[],l=0;l<b.length;l++)k[l]=0==l?e[0]:j+k[l-1];return d=j,c=k,a},a.rangeBand=function(){return d},a},time:function(){var a,d=[],e=c.linear(),f=e.domain;return e.domain=function(a){if(!arguments.length)return f.call(e);for(var b=0;b<a.length;b++)d[b]=+a[b];return f.call(e,d)},e.min=function(){return Math.min(d[0],d[d.length-1])},e.max=function(){return Math.max(d[0],d[d.length-1])},e.rate=function(a,b){return e(e.max()*(a/b))},e.ticks=function(c,d){for(var f=e.min(),g=e.max(),h=[];g>f;)h.push(new Date(+f)),f=b.add(f,c,d);h.push(new Date(+f));var i=e(h[0]),j=e(h[1]);return a=j-i,h},e.realTicks=function(c,f){var g=d[0],h=d[1],i=[],j=new Date(+g),k=null;for(c==b.years?k=new Date(j.getFullYear(),0,1):c==b.months?k=new Date(j.getFullYear(),j.getMonth(),1):c==b.days||c==b.weeks?k=new Date(j.getFullYear(),j.getMonth(),j.getDate()):c==b.hours?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),0,0,0):c==b.minutes?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),0,0):c==b.seconds?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),0):c==b.milliseconds&&(k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds())),k=b.add(k,c,f);+h>+k;)i.push(new Date(+k)),k=b.add(k,c,f);var l=e(i[1]),m=e(i[2]);return a=m-l,i},e.rangeBand=function(){return a},e.invert=function(a){var b=c.linear().domain(e.range()).range(e.domain());return new Date(b(a))},e},linear:function(){function b(b){for(var c=-1,g=0,h=d.length;h>g;g++)if(g==h-1){if(d[g-1]<d[g]){if(b>d[g]){c=g;break}}else if(d[g-1]>=d[g]&&b<=d[g]){c=g;break}}else if(d[g]<d[g+1]){if(b>=d[g]&&b<d[g+1]){c=g;break}}else if(d[g]>=d[g+1]&&b<=d[g]&&d[g+1]<b){c=g;break}if(e){if(d.length-1==c)return e[c];if(-1==c)return e[e.length-1];var i=d[c],j=d[c+1],k=e[c],l=e[c+1],m=(b-i)/(j-i),n=f?a.interpolateRound(k,l):a.interpolateNumber(k,l);return n(m)}if(0==c)return 0;if(-1==c)return 1;var i=d[c-1],j=d[c],m=(b-i)/(j-i);return m}var d=[0,1],e=[0,1],f=!1;return b.min=function(){return Math.min(d[0],d[d.length-1])},b.max=function(){return Math.max(d[0],d[d.length-1])},b.rate=function(a,c){return b(b.max()*(a/c))},b.domain=function(a){if(!arguments.length)return d;for(var b=0;b<a.length;b++)d[b]=a[b];return this},b.range=function(a){if(!arguments.length)return e;for(var b=0;b<a.length;b++)e[b]=a[b];return this},b.rangeRound=function(a){return f=!0,b.range(a)},b.invert=function(a){var b=c.linear().domain(e).range(d);return b(a)},b.ticks=function(b,c,e){if(e=e||1e4,0==d[0]&&0==d[1])return[];for(var f=a.nice(d[0],d[1],b||10,c||!1),g=[],h=f.min*e,i=f.max*e;i>=h;)g.push(h/e),h+=f.spacing*e;return g[g.length-1]*e!=i&&h>i&&g.push(i/e),g},b}};return c}),jui.define("util.svg.element",[],function(){var a=function(){this.create=function(a,b){this.element=document.createElementNS("http://www.w3.org/2000/svg",a),this.childrens=[],this.parent=null,this.attributes={},this.styles={},this.attr(b)},this.each=function(a){if("function"==typeof a){for(var b=0;b<this.childrens.length;b++){var c=this.childrens[b];a.apply(c,[b,c])}return this.childrens}},this.get=function(a){return this.childrens[a]?this.childrens[a]:null},this.index=function(a){for(var b=0;b<this.childrens.length;b++)if(a==this.childrens[b])return b;return-1},this.append=function(a){return a.parent&&a.remove(),this.childrens.push(a),a.parent=this,this},this.prepend=function(a){return this.insert(0,a)},this.insert=function(a,b){return b.parent&&b.remove(),this.childrens.splice(a,0,b),b.parent=this,this},this.remove=function(){for(var a=0,b=[],c=this.parent.childrens,d=0;d<c.length;d++){if(c[d]==this){a=d;break}b.push(c[d])}return this.parent.childrens=b,this},this.attr=function(a){for(var b in a)this.attributes[b]=a[b];for(var b in this.attributes)-1!=b.indexOf("xlink:")?this.element.setAttributeNS("http://www.w3.org/1999/xlink",b,this.attributes[b]):this.element.setAttributeNS(null,b,this.attributes[b]);return this},this.css=function(a){var b=[];for(var c in a)this.styles[c]=a[c];for(var c in this.styles)b.push(c+":"+this.styles[c]);return this.attr({style:b.join(";")}),this},this.html=function(a){return this.element.innerHTML=a,this},this.text=function(a){return this.element.appendChild(document.createTextNode(a)),this},this.on=function(a,b){return this.element.addEventListener(a,function(a){"function"==typeof b&&b.call(this,a)},!1),this},this.hover=function(a,b){return this.element.addEventListener("mouseover",function(b){"function"==typeof a&&a.call(this,b)},!1),this.element.addEventListener("mouseout",function(a){"function"==typeof b&&b.call(this,a)},!1),this}};return a}),jui.define("util.svg.element.transform",[],function(){var a=function(){function a(a){var b=[];for(var d in c)c[d]&&b.push(c[d]);a.attr({transform:b.join(" ")})}function b(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b.join(",")}var c={};this.translate=function(){return c.translate="translate("+b(arguments)+")",a(this),this},this.rotate=function(){return c.rotate="rotate("+b(arguments)+")",a(this),this},this.scale=function(){return c.scale="scale("+b(arguments)+")",a(this),this},this.skew=function(){return c.skew="skew("+b(arguments)+")",a(this),this},this.matrix=function(){return c.matrix="matrix("+b(arguments)+")",a(this),this}};return a},"util.svg.element"),jui.define("util.svg.element.path",[],function(){var a=function(){function a(a){a.attr({d:b.join(" ")})}var b=[];this.moveTo=function(c,d,e){return b.push((e||"m")+c+","+d),a(this),this},this.MoveTo=function(a,b){return this.moveTo(a,b,"M")},this.lineTo=function(c,d,e){return b.push((e||"l")+c+","+d),a(this),this},this.LineTo=function(a,b){return this.lineTo(a,b,"L")},this.hLineTo=function(c,d){return b.push((d||"h")+c),a(this),this},this.HLineTo=function(a){return this.hLineTo(a,"H")},this.vLineTo=function(c,d){return b.push((d||"v")+c),a(this),this},this.VLineTo=function(a){return this.vLineTo(a,"V")},this.curveTo=function(c,d,e,f,g,h,i){return b.push((i||"c")+c+","+d+" "+e+","+f+" "+g+","+h),a(this),this},this.CurveTo=function(a,b,c,d,e,f){return this.curveTo(a,b,c,d,e,f,"C")},this.sCurveTo=function(c,d,e,f,g){return b.push((g||"s")+c+","+d+" "+e+","+f),a(this),this},this.SCurveTo=function(a,b,c,d){return this.sCurveTo(a,b,c,d,"S")},this.qCurveTo=function(c,d,e,f,g){return b.push((g||"q")+c+","+d+" "+e+","+f),a(this),this},this.QCurveTo=function(a,b,c,d){return this.qCurveTo(a,b,c,d,"Q")},this.tCurveTo=function(c,d,e,f,g){return b.push((g||"t")+c+","+d+" "+e+","+f),a(this),this},this.TCurveTo=function(a,b,c,d){return this.tCurveTo(a,b,c,d,"T")},this.arc=function(c,d,e,f,g,h,i,j){return f=f?1:0,g=g?1:0,b.push((j||"a")+c+","+d+" "+e+" "+f+","+g+" "+h+","+i),a(this),this},this.Arc=function(a,b,c,d,e,f,g){return this.arc(a,b,c,d,e,f,g,"A")},this.closePath=function(c){return b.push(c||"z"),a(this),this},this.ClosePath=function(){return this.closePath("Z")}};return a},"util.svg.element.transform"),jui.define("util.svg.element.poly",[],function(){var a=function(){function a(a){a.attr({points:b.join(" ")})}var b=[];this.point=function(c,d){return b.push(c+","+d),a(this),this}};return a},"util.svg.element.transform"),jui.define("util.svg",["util.base","util.math","util.svg.element","util.svg.element.transform","util.svg.element.path","util.svg.element.poly"],function(a,b,c,d,e,f){var g=function(g,h){function i(){n.root=o=new c,p=new d,q=new d,o.create("svg",h),p.create("g"),q.create("g"),p.translate(.5,.5),q.translate(.5,.5),g.appendChild(o.element),o.append(p),o.append(q)}function j(b,c,d,e){return b.create(c,d),0==s?p.append(b):r[s].append(b),a.typeCheck("function",e)&&(s++,r[s]=b,e.call(b),s--),b}function k(a,b,c,d){if(a.parent==p)throw new Error("JUI_CRITICAL_ERR: Parents are required elements of the '"+b+"'");return j(a,b,c,d)}function l(a){for(var b=0;b<a.childrens.length;b++){var c=a.childrens[b];c&&c.parent==a&&a.element.appendChild(c.element),c&&c.childrens.length>0&&l(c)}}function m(){for(var a=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],b=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],c=window.getComputedStyle(o.element),d={width:0,height:0},e=0;e<a.length;e++)d.height+=parseFloat(c[a[e]]);for(var e=0;e<b.length;e++)d.width+=parseFloat(c[b[e]]);return d}var n=this,o=null,p=null,q=null,r={},s=0,t=!1;this.size=function(){if(2!=arguments.length){var b=o.element.getBoundingClientRect();return 0==b.width&&0==b.height&&(b=m()),{width:b.width,height:b.height}}var c=arguments[0],d=arguments[1];a.typeCheck("integer",c)&&a.typeCheck("integer",d)&&o.attr({width:c,height:d})},this.clear=function(a){p.element.innerHTML="",a===!0&&(q.element.innerHTML="")},this.reset=function(a){this.clear(a),p.childrens=[],a===!0&&(q.childrens=[])},this.render=function(a){this.clear(),l(t===!1||a===!0?o:p),t=!0},this.download=function(b){a.typeCheck("string",b)&&(b=b.split(".")[0]);var c=document.createElement("a");c.download=b?b+".png":"svg.png",c.href=a.svgToBase64(g.innerHTML),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c)},this.autoRender=function(a,b){s>0||(b?p.append(a):q.append(a))},this.getTextRect=function(a){var b=this.text({"class":"dummy",x:-100,y:-100},a);o.element.appendChild(b.element);var c=b.element.getBoundingClientRect();return b.remove(),{width:c.width,height:c.height}},this.custom=function(a,b,d){return j(new c,a,b,d)
},this.defs=function(a){return j(new c,"defs",null,a)},this.symbol=function(a,b){return j(new c,"symbol",a,b)},this.g=this.group=function(a,b){return j(new d,"g",a,b)},this.marker=function(a,b){return j(new c,"marker",a,b)},this.a=function(a,b){return j(new d,"a",a,b)},this.switch=function(a,b){return j(new c,"switch",a,b)},this.use=function(a){return j(new c,"use",a)},this.rect=function(a,b){return j(new d,"rect",a,b)},this.line=function(a,b){return j(new d,"line",a,b)},this.circle=function(a,b){return j(new d,"circle",a,b)},this.text=function(b,c){return a.typeCheck("string",c)?j(new d,"text",b).text(c):j(new d,"text",b,c)},this.textPath=function(b,d){return a.typeCheck("string",d)?j(new c,"textPath",b).text(d):j(new c,"textPath",b)},this.tref=function(b,d){return a.typeCheck("string",d)?j(new c,"tref",b).text(d):j(new c,"tref",b)},this.tspan=function(b,d){return a.typeCheck("string",d)?j(new c,"tspan",b).text(d):j(new c,"tspan",b)},this.ellipse=function(a,b){return j(new d,"ellipse",a,b)},this.image=function(a,b){return j(new d,"image",a,b)},this.path=function(a,b){return j(new e,"path",a,b)},this.polyline=function(a,b){return j(new f,"polyline",a,b)},this.polygon=function(a,b){return j(new f,"polygon",a,b)},this.pattern=function(a,b){return j(new c,"pattern",a,b)},this.mask=function(a,b){return j(new c,"mask",a,b)},this.clipPath=function(a,b){return j(new c,"clipPath",a,b)},this.linearGradient=function(a,b){return j(new c,"linearGradient",a,b)},this.radialGradient=function(a,b){return j(new c,"radialGradient",a,b)},this.filter=function(a,b){return j(new c,"filter",a,b)},this.stop=function(a){return k(new c,"stop",a)},this.animate=function(a){return k(new c,"animate",a)},this.animateColor=function(a){return k(new c,"animateColor",a)},this.animateMotion=function(a){return k(new c,"animateMotion",a)},this.animateTransform=function(a){return k(new c,"animateTransform",a)},this.mpath=function(a){return k(new c,"mpath",a)},this.set=function(a){return k(new c,"set",a)},this.feBlend=function(a){return k(new c,"feBlend",a)},this.feColorMatrix=function(a){return k(new c,"feColorMatrix",a)},this.feComponentTransfer=function(a){return k(new c,"feComponentTransfer",a)},this.feComposite=function(a){return k(new c,"feComposite",a)},this.feConvolveMatrix=function(a){return k(new c,"feConvolveMatrix",a)},this.feDiffuseLighting=function(a){return k(new c,"feDiffuseLighting",a)},this.feDisplacementMap=function(a){return k(new c,"feDisplacementMap",a)},this.feFlood=function(a){return k(new c,"feFlood",a)},this.feGaussianBlur=function(a){return k(new c,"feGaussianBlur",a)},this.feImage=function(a){return k(new c,"feImage",a)},this.feMerge=function(a,b){return k(new c,"feMerge",a,b)},this.feMergeNode=function(a){return k(new c,"feMergeNode",a)},this.feMorphology=function(a){return k(new c,"feMorphology",a)},this.feOffset=function(a){return k(new c,"feOffset",a)},this.feSpecularLighting=function(a){return k(new c,"feSpecularLighting",a)},this.feTile=function(a){return k(new c,"feTile",a)},this.feTurbulence=function(a){return k(new c,"feTurbulence",a)},this.rect3d=function(a){var c=this,d=b.radian(a.degree),e=0,f=0,g=a.width,h=a.height,i=Math.cos(d)*a.depth+e,j=Math.sin(d)*a.depth+f,k=a.width+i,l=a.height+j,m=this.group({width:k,height:l},function(){delete a.width,a.height,a.degree,a.depth,c.path(a).MoveTo(i,e).LineTo(k,f).LineTo(g,j).LineTo(e,j),c.path(a).MoveTo(e,j).LineTo(e,l).LineTo(g,l).LineTo(g,j).ClosePath(),c.path(a).MoveTo(g,l).LineTo(k,h).LineTo(k,f).LineTo(g,j).ClosePath()});return m},i()};return g}),jui.define("util.color",[],function(){var a={regex:/(linear|radial)\((.*)\)(.*)/i,trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},parse:function(a){return this.parseGradient(a)},parseGradient:function(a){var b=a.match(this.regex);if(!b)return a;var c=this.trim(b[1]),d=this.parseAttr(c,this.trim(b[2])),e=this.parseStop(this.trim(b[3])),f={type:c};for(var g in d)f[g]=d[g];return f.stops=e,f},parseStop:function(a){for(var b=a.split(","),c=[],d=0,e=b.length;e>d;d++){var a=b[d],f=a.split(" ");0!=f.length&&(1==f.length?c.push({"stop-color":f[0]}):2==f.length?c.push({offset:f[0],"stop-color":f[1]}):3==f.length&&c.push({offset:f[0],"stop-color":f[1],"stop-opacity":f[2]}))}for(var g=-1,h=-1,d=0,e=c.length;e>d;d++){var a=c[d];if(0==d?a.offset||(a.offset=0):d==e-1&&(a.offset||(a.offset=1)),-1==g&&"undefined"==typeof a.offset)g=d;else if(-1==h&&"undefined"==typeof a.offset){h=d;for(var i=h-g,j=c[h].offset.indexOf("%")>-1?parseFloat(c[h].offset)/100:c[h].offset,k=c[g].offset.indexOf("%")>-1?parseFloat(c[g].offset)/100:c[g].offset,l=j-k,m=l/i,n=k+m,o=g+1;h>o;o++)c[o].offset=n,n+=m;g=h,h=-1}}return c},parseAttr:function(a,b){if("linear"!=a){for(var c=b.split(","),d=0,e=c.length;e>d;d++)-1==c[d].indexOf("%")&&(c[d]=parseFloat(c[d]));return{cx:c[0],cy:c[1],r:c[2],fx:c[3],fy:c[4]}}switch(b){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:b||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:b};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:b};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:b};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:b};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:b};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:b};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:b};default:for(var c=b.split(","),d=0,e=c.length;e>d;d++)-1==c[d].indexOf("%")&&(c[d]=parseFloat(c[d]));return{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}}}};return a}),jui.define("chart.draw",["jquery","util.base"],function(a,b){var c=function(){function c(c,d){var e=["type","target","index","colors","x","y","x1","y1","c"],f=[],g=[];for(var h in c)g.push(h);for(var h in d)f.push(h),b.typeCheck("undefined",c[h])&&(c[h]=d[h]);for(var i=0;i<g.length;i++){var j=g[i];if(-1==a.inArray(j,f)&&-1==a.inArray(j,e))throw new Error("JUI_CRITICAL_ERR: '"+j+"' is not an option in chart.draw")}}this.render=function(a,d){if(!b.typeCheck("function",this.draw))throw new Error("JUI_CRITICAL_ERR: 'draw' method must be implemented");if(b.typeCheck("function",this.drawSetup)){var e=this.drawSetup(),f=b.typeCheck("object",e)?e:{};c(d,f)}else if(b.typeCheck("object",d))throw new Error("JUI_CRITICAL_ERR: 'drawSetup' method must be implemented");b.typeCheck("function",this.drawBefore)&&this.drawBefore(a);var g=this.draw(a);if(!b.typeCheck("object",g))throw new Error("JUI_CRITICAL_ERR: 'draw' method should return the object");return g}};return c}),jui.defineUI("chart.builder",["jquery","util.base","util.svg","util.color"],function(a,b,c,d){var e=function(){function e(a){var b=a.svg.size(),c={width:b.width-(o.left+o.right),height:b.height-(o.top+o.bottom),x:o.left,y:o.top};c.x2=c.x+c.width,c.y2=c.y+c.height,q=c}function f(a){for(var c=b.deepClone(a.options.series),d=b.deepClone(a.options.grid),e=b.deepClone(a.options.brush),f=b.deepClone(a.options.widget),g=[],h=0,i=t.length;i>h;h++){var j=t[h];for(var l in j){var m=c[l]||{},n=+j[l];c[l]=m,m.data=m.data||[],m.min="undefined"==typeof m.min?0:m.min,m.max="undefined"==typeof m.max?0:m.max,m.data[h]=n,n<m.min&&(m.min=n),n>m.max&&(m.max=n)}}for(var l in c)g.push(l);y=k(e,g),z=k(f,g),p=c,x=d,B={}}function g(a){var b=a.svg.defs();a.clipId=a.createId("clip-id");var c=a.svg.clipPath({id:a.clipId});c.append(a.svg.rect({x:0,y:0,width:a.width(),height:a.height()})),b.append(c),a.defs=b}function h(a){var c=a.grid();if(null!=c){c.type&&(c={c:c});for(var d in c){var e="custom";"x"==d?e="bottom":"x1"==d?e="top":"y"==d?e="left":"y1"==d&&(e="right"),A[d]||(A[d]=[]),b.typeCheck("array",c[d])||(c[d]=[c[d]]);for(var f=0,g=c[d].length;g>f;f++){var h=jui.include("chart.grid."+(c[d][f].type||"block")),i=new h(e,c[d][f]).render(a),j=c[d][f].dist||0;"y"==d?i.root.translate(a.x()-j,a.y()):"y1"==d?i.root.translate(a.x2()+j,a.y()):"x"==d?i.root.translate(a.x(),a.y2()+j):"x1"==d&&i.root.translate(a.x(),a.y()-j),A[d][f]=i.scale}}}}function i(a,c){var d="brush"==c?y:z;if(null!=d)for(var e=0;e<d.length;e++){delete d[e].x,delete d[e].y;var f=jui.include("chart."+c+"."+d[e].type),g="widget"==c?a.brush(e):d[e];(A.x||A.x1)&&(b.typeCheck("function",d[e].x)||(d[e].x="undefined"!=typeof g.x1?A.x1[g.x1||0]:A.x[g.x||0])),(A.y||A.y1)&&(b.typeCheck("function",d[e].y)||(d[e].y="undefined"!=typeof g.y1?A.y1[g.y1||0]:A.y[g.y||0])),A.c&&(b.typeCheck("function",d[e].c)||(d[e].c=A.c[g.c||0])),d[e].index=e,j(a,c,new f(d[e]).render(a,d[e]))}}function j(a,b,c){"widget"==b&&a.svg.autoRender(c,!1)}function k(a,b){var c=null;if(null!=a){c="string"==typeof a?[{type:a}]:"object"!=typeof a||a.length?a:[a];for(var d=0,e=c.length;e>d;d++){var f=c[d];f.target?"string"==typeof f.target&&(f.target=[f.target]):f.target=b}}return c}function l(b){function c(c){var d=a(b.root).offset(),e=c.offsetX||c.layerX-d.left,f=c.offsetY||c.layerY-d.top;if(!(e-b.padding("left")<0||e-b.padding("left")>b.width()||f-b.padding("top")<0||f-b.padding("top")>b.height()))return!0}var d=b.svg.root,e=!1;d.on("click",function(a){c(a)&&b.emit("bg.click",[a])}),d.on("dblclick",function(a){c(a)&&b.emit("bg.dblclick",[a])}),d.on("contextmenu",function(a){c(a)&&(b.emit("bg.rclick",[a]),a.preventDefault())}),d.on("mousemove",function(a){return c(a)?void(e?b.emit("bg.mousemove",[a]):(b.emit("bg.mouseover",[a]),e=!0)):void(e&&(b.emit("bg.mouseout",[a]),e=!1))}),d.on("mousedown",function(a){c(a)&&b.emit("bg.mousedown",[a])}),d.on("mouseup",function(a){c(a)&&b.emit("bg.mouseup",[a])}),a(b.root).on("selectstart",function(a){a.preventDefault()})}function m(a,b,c){if("undefined"!=typeof c&&B[c])return"url(#"+B[c]+")";var d=a.createId("gradient");b.id=d;var e;"linear"==b.type?e=a.svg.linearGradient(b):"radial"==b.type&&(e=a.svg.radialGradient(b));for(var f=0;f<b.stops.length;f++)e.append(a.svg.stop(b.stops[f]));return this.defs.append(e),"undefined"!=typeof c&&(B[c]=d),"url(#"+d+")"}function n(a,c){if(b.typeCheck("object",c))return m(a,c);var e=d.parse(c);return e==c?c:m(a,e,c)}var o,p,q,r,s=!1,t=[],u=1,v=0,w=0,x={},y=[],z=[],A=[],B={};this.init=function(){var a=this.options;o="empty"==a.padding?{left:0,right:0,bottom:0,top:0}:a.padding,this.setTheme(a.theme),a.style&&this.setTheme(a.style),a.bind&&this.bindUI(a.bind),this.svg=new c(this.root,{width:a.width,height:a.height}),this.update(),this.emit("load"),l(this),s=!0},this.area=function(a){return"undefined"!=typeof q[a]?q[a]:q},this.height=function(a){return 0==arguments.length?this.area("height"):void(q.height=a)},this.width=function(a){return 0==arguments.length?this.area("width"):void(q.width=a)},this.x=function(a){return 0==arguments.length?this.area("x"):void(q.x=a)},this.y=function(a){return 0==arguments.length?this.area("y"):void(q.y=a)},this.x2=function(a){return 0==arguments.length?this.area("x2"):void(q.x2=a)},this.y2=function(a){return 0==arguments.length?this.area("y2"):void(q.y2=a)},this.padding=function(a){return o[a]?o[a]:o},this.color=function(a,c){var d;return b.typeCheck("array",c)&&(d=c[a]),d=d||r.colors[a],B[d]?"url(#"+B[d]+")":n(this,d)},this.text=function(a,c){var d=this.svg.text(b.extend({"font-family":this.theme("fontFamily"),"font-size":this.theme("fontSize"),fill:this.theme("fontColor")},a),c);return d},this.setTheme=function(){if(1==arguments.length){var c=arguments[0];r=b.typeCheck("object",c)?a.extend(r,c):jui.include("chart.theme."+c)}else 2==arguments.length&&(r[arguments[0]]=arguments[1])},this.theme=function(a,b,c){if(0==arguments.length)return r;if(1==arguments.length){if(r[a])return a.indexOf("Color")>-1&&r[a]?n(this,r[a]):r[a]}else if(3==arguments.length){var d=a?b:c;return d.indexOf("Color")>-1&&r[d]?n(this,r[d]):r[d]}},this.series=function(a){return p[a]?p[a]:p},this.grid=function(a){return x[a]?x[a]:x},this.brush=function(a){return y[a]?y[a]:y},this.data=function(a,b){return t[a]?"undefined"!=typeof b?t[a][b]:t[a]:t},this.createId=function(a){return[a||"chart-id",+new Date,Math.round(100*Math.random())%100].join("-")},this.bindUI=function(a){function b(){for(var b=[],c=0;c<a.count();c++)b.push(a.get(c).data);d.update(b)}function c(){d.update(a.listData())}var d=this;"uix.table"==a.module.type?(a.callAfter("update",b),a.callAfter("sort",b),a.callAfter("append",b),a.callAfter("insert",b),a.callAfter("remove",b)):"uix.xtable"==a.module.type&&(a.callAfter("update",c),a.callAfter("sort",c))},this.render=function(a){var a=a===!0||s===!1?!0:!1;this.svg.reset(a),e(this),f(this),g(this),h(this),i(this,"brush"),a&&i(this,"widget"),this.svg.root.css({background:this.theme("backgroundColor")}),this.svg.render(a),this.emit("render")},this.update=function(a){a&&(this.options.data=a),this.page(1)},this.page=function(a){if(0==arguments.length)return u-1;var b=this.options.data,c=this.options.bufferCount,d=Math.ceil(b.length/c);u=1>a?1:a>d?d:a,v=(u-1)*c,w=v+c,w>b.length&&(v=b.length-c,w=b.length),w<=b.length&&(v=0>v?0:v,t=b.slice(v,w),this.render(),b.length>0&&u++)},this.next=function(){var a=this.options.data,b=this.options.bufferCount,c=this.options.shiftCount;v+=c;var d=v+b>a.length;w=d?a.length:v+b,v=d?a.length-b:v,v=0>v?0:v,t=a.slice(v,w),this.render()},this.prev=function(){var a=this.options.data,b=this.options.bufferCount,c=this.options.shiftCount;v-=c;var d=0>v;w=d?b:v+b,v=d?0:v,t=a.slice(v,w),this.render()},this.zoom=function(a,b){if(0==arguments.length)return{start:v,end:w};if(a!=b){var c=this.options.data;w=b>c.length?c.length:b,v=0>a?0:a,t=c.slice(v,w),this.render()}},this.size=function(a,b){this.svg.size(a,b),this.render()},this.setCsv=function(a){var c=[],d=this.options.csv,e=this.options.csvNumber;for(var f in p)c.push(f);if(0!=c.length||d){var g=b.getCsvFields(c,d),e=e?b.getCsvFields(g,e):null;this.update(b.csvToData(g,a,e))}},this.setCsvFile=function(a){var c=this;b.fileToCsv(a,function(a){c.setCsv(a)})}};return e.setup=function(){return{options:{width:"100%",height:"100%",padding:{left:50,right:50,bottom:50,top:50},theme:"jennifer",style:{},series:{},grid:{},brush:null,widget:null,data:[],bind:null,bufferCount:100,shiftCount:1,csv:null,csvNumber:null},valid:{area:["string"],width:["integer"],height:["integer"],x:["integer"],y:["integer"],x2:["integer"],y2:["integer"],padding:["string"],color:["integer",["undefined","array"]],text:["object",["string","function"]],setTheme:[["object","string"],["string","number","array"]],theme:[["string","boolean"],"string","string"],series:[["undefined","string"]],grid:["string"],brush:["integer"],data:[["null","integer"],"string"],createId:["string"],bindUI:["object"],update:["array"],page:["integer"],size:["integer","integer"],zoom:["integer","integer"],render:["boolean"],setCsv:["string"],setCsvFile:["object"]}}},e},"core"),jui.define("chart.theme.jennifer",[],function(){var a=["#7977C2","#7BBAE7","#FFC000","#FF7800","#87BB66","#1DA8A0","#929292","#555D69","#0298D5","#FA5559","#F5A397","#06D9B6","#C6A9D9","#6E6AFC","#E3E766","#C57BC3","#DF328B","#96D7EB","#839CB5","#9228E4"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderWidth:1,gridBorderColor:"#ececec",gridAxisBorderColor:"#ebebeb",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"black",pieBorderColor:"white",pieBorderWidth:1,donutBorderColor:"white",donutBorderWidth:1,areaOpacity:.5,bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,pathOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,titleFontColor:"#333",titleFontSize:"13px",legendFontColor:"#333",legendFontSize:"12px",tooltipFontColor:"#333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"#aaaaaa",tooltipOpacity:.7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.5}}),jui.define("chart.theme.gradient",[],function(){var a=["linear(top) white,0.7 #7977C2","linear(top) white,0.7 #7BBAE7","#FFC000","#FF7800","#87BB66","#1DA8A0","#929292","#555D69","#0298D5","#FA5559","#F5A397","#06D9B6","#C6A9D9","#6E6AFC","#E3E766","#C57BC3","#DF328B","#96D7EB","#839CB5","#9228E4"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderWidth:1,gridBorderColor:"#ececec",gridAxisBorderColor:"#ebebeb",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"black",pieBorderColor:"white",pieBorderWidth:1,donutBorderColor:"white",donutBorderWidth:1,areaOpacity:.5,bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,pathOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,titleFontColor:"#333",titleFontSize:"13px",legendFontColor:"#333",legendFontSize:"12px",tooltipFontColor:"#333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"#aaaaaa",tooltipOpacity:.7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.5}}),jui.define("chart.theme.dark",[],function(){var a=["#7977C2","#7BBAE7","#FFC000","#FF7800","#87BB66","#1DA8A0","#929292","#555D69","#0298D5","#FA5559","#F5A397","#06D9B6","#C6A9D9","#6E6AFC","#E3E766","#C57BC3","#DF328B","#96D7EB","#839CB5","#9228E4"];return{backgroundColor:"#232323",fontSize:"11px",fontColor:"#eeeeee",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#ececec",gridActiveFontColor:"#ff7800",gridBorderWidth:1,gridBorderColor:"#ececec",gridAxisBorderColor:"#ebebeb",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"black",stackGaugeBackgroundColor:"#232323",pieBorderColor:"#232323",pieBorderWidth:1,donutBorderColor:"#232323",donutBorderWidth:1,areaOpacity:.5,bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,pathOpacity:.2,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,titleFontColor:"#333",titleFontSize:"13px",legendFontColor:"#333",legendFontSize:"12px",tooltipFontColor:"#ececec",tooltipFontSize:"12px",tooltipBackgroundColor:"black",tooltipBorderColor:"#ececec",tooltipOpacity:.7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.5}}),jui.define("chart.theme.seoul",[],function(){var a=["#FBB13C","#6E413C","#E0CDA2","#5884C5","#912F30","#E57F28","#E5E5E5","#A1A097","#446256","#494949"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderWidth:1,gridBorderColor:"#ececec",gridAxisBorderColor:"#ebebeb",gridAxisBorderWidth:1,gridActiveBorderColor:"#ff7800",gridActiveBorderWidth:1,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"black",pieBorderColor:"white",pieBorderWidth:1,donutBorderColor:"white",donutBorderWidth:1,areaOpacity:.5,bubbleOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,pathOpacity:.2,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,titleFontColor:"#333",titleFontSize:"13px",legendFontColor:"#333",legendFontSize:"12px",tooltipFontColor:"#333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"#aaaaaa",tooltipOpacity:.7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonOpacity:.5}}),jui.define("chart.grid.core",["util.base"],function(a){var b=function(){this.setBlockDomain=function(a,b){if(("radar"==b.type||"block"==b.type)&&b.target&&!b.domain){var c=[],d=a.data();if(b.reverse)var e=d.length-1,f=0,g=-1;else var e=0,f=d.length-1,g=1;for(var h=e;b.reverse?h>=f:f>=h;h+=g)c.push(d[h][b.target]);b.domain=c,b.step=b.step||10,b.max=b.max||100}return b},this.setRangeDomain=function(a,b){if(("string"==typeof b.target||"function"==typeof b.target)&&(b.target=[b.target]),b.target&&b.target.length){for(var c=b.max||0,d=b.min||0,e=a.data(),f=0;f<b.target.length;f++){var g=b.target[f];if("function"==typeof g)for(var h=0;h<e.length;h++){var i=e[h],j=+g(i);j>c&&(c=j),d>j&&(d=j)}else{var k=a.series(g).max,l=a.series(g).min;k>c&&(c=k),d>l&&(d=l)}}b.max=c,b.min=d,b.step=b.step||10;for(var m=b.unit||Math.ceil((c-d)/b.step),n=0;c>n;)n+=m;for(var o=0;o>d;)o-=m;0==m?b.domain=[0,0]:(b.domain=[o,n],b.reverse&&b.domain.reverse(),b.step=Math.abs(n/m)+Math.abs(o/m))}return b},this.setDateDomain=function(a,b){if(("string"==typeof b.target||"function"==typeof b.target)&&(b.target=[b.target]),b.target&&b.target.length){for(var c=a.data(),d=void 0,e=void 0,f=0;f<b.target.length;f++)for(var g=b.target[f],h=0;h<c.length;h++){var i=+c[h][g];"undefined"==typeof d?d=i:d>i&&(d=i),"undefined"==typeof e?e=i:i>e&&(e=i)}b.max=e,b.min=d,b.domain=[b.min,b.max],b.reverse&&b.domain.reverse()}return b},this.wrapper=function(a,b,c){function d(b){return c&&(b=a.data(b)[c]),e(b)}var e=b;return d.max=function(){return e.max.apply(e,arguments)},d.min=function(){return e.min.apply(e,arguments)},d.rangeBand=function(){return e.rangeBand.apply(e,arguments)},d.rate=function(){return e.rate.apply(e,arguments)},d.invert=function(){return e.invert.apply(e,arguments)},d.key=c,d},this.axisLine=function(b,c){return b.svg.line(a.extend({x1:0,y1:0,x2:0,y2:0,stroke:b.theme("gridAxisBorderColor"),"stroke-width":b.theme("gridAxisBorderWidth"),"stroke-opacity":1},c))},this.line=function(b,c){return b.svg.line(a.extend({x1:0,y1:0,x2:0,y2:0,stroke:b.theme("gridAxisBorderColor"),"stroke-width":b.theme("gridBorderWidth"),"stroke-opacity":1},c))},this.drawGrid=function(a,b,c,d){var e=a.svg.group({"class":["grid",c].join(" ")});return this[b].call(this,a,e),this.scale=this.wrapper(a,this.scale,d.key),d.hide&&e.attr({display:"none"}),{root:e,scale:this.scale}}};return b},"chart.draw"),jui.define("chart.grid.block",["util.scale"],function(a){var b=function(b,c){this.top=function(a,b){var d=a.height();c.line||b.append(this.axisLine(a,{x2:a.width()}));for(var e=0;e<this.points.length;e++){var f=c.format?c.format(this.domain[e]):this.domain[e];if(""!=f){var g=a.svg.group({transform:"translate("+this.points[e]+", 0)"});g.append(this.line(a,{x1:-this.half_band,y1:0,x2:-this.half_band,y2:c.line?d:this.bar})),g.append(a.text({x:0,y:-20,"text-anchor":"middle"},c.format?c.format(this.domain[e]):this.domain[e])),b.append(g)}}if(!c.full){var g=a.svg.group({transform:"translate("+a.width()+", 0)"});g.append(this.line(a,{y2:c.line?d:this.bar})),b.append(g)}},this.bottom=function(a,b){var d=a.height();c.line||b.append(this.axisLine(a,{x2:a.width()}));for(var e=0,f=this.points.length;f>e;e++){var g=c.format?c.format(this.domain[e]):this.domain[e];if(""!=g){var h=a.svg.group({transform:"translate("+this.points[e]+", 0)"});h.append(this.line(a,{x1:-this.half_band,y1:0,x2:-this.half_band,y2:c.line?-d:this.bar})),h.append(a.text({x:0,y:20,"text-anchor":"middle",fill:a.theme("gridFontColor")},g)),b.append(h)}}if(!c.full){var h=a.svg.group({transform:"translate("+a.width()+", 0)"});h.append(this.line(a,{y2:c.line?-d:this.bar})),b.append(h)}},this.left=function(a,b){var d=a.width();c.line||b.append(this.axisLine(a,{y2:a.height()}));for(var e=0;e<this.points.length;e++){var f=a.svg.group({transform:"translate(0, "+(this.points[e]-this.half_band)+")"});f.append(this.line(a,{x2:c.line?d:-this.bar})),f.append(a.text({x:-this.bar-4,y:this.half_band,"text-anchor":"end"},c.format?c.format(this.domain[e]):this.domain[e])),b.append(f)}if(!c.full){var f=a.svg.group({transform:"translate(0, "+a.height()+")"});f.append(this.line(a,{x2:c.line?a.width():-this.bar})),b.append(f)}},this.right=function(a,b){c.line||b.append(this.axisLine(a,{y2:a.height()}));for(var d=0;d<this.points.length;d++){var e=a.svg.group({transform:"translate(0, "+(this.points[d]-this.half_band)+")"});e.append(this.line(a,{x2:c.line?-a.width():this.bar})),e.append(a.text({x:this.bar+4,y:this.half_band,"text-anchor":"start"},c.format?c.format(this.domain[d]):this.domain[d])),b.append(e)}if(!c.full){var e=a.svg.group({transform:"translate(0, "+a.height()+")"});e.append(this.line(a,{x2:c.line?-a.width():this.bar})),b.append(e)}},this.drawBefore=function(d){c.type=c.type||"block",c=this.setBlockDomain(d,c);var e=d.width(),f=d.height(),g="left"==b||"right"==b?f:e;this.scale=a.ordinal().domain(c.domain);var h=[0,g];c.full?this.scale.rangeBands(h):this.scale.rangePoints(h),this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=c.full?0:this.band/2,this.bar=6,this.reverse=c.reverse||!1},this.draw=function(a){return this.drawGrid(a,b,"block",c)}};return b},"chart.grid.core"),jui.define("chart.grid.date",["util.time","util.scale"],function(a,b){var c=function(c,d){this.top=function(a,b){d.line||b.append(this.axisLine(a,{x2:a.width()}));for(var c=this.ticks,e=this.values,f=this.bar,g=0;g<c.length;g++){var h=a.svg.group({transform:"translate("+e[g]+", 0)"});h.append(this.line(a,{y2:d.line?a.height():-f})),h.append(a.text({x:0,y:-f-4,"text-anchor":"middle",fill:a.theme("gridFontColor")},d.format?d.format(c[g]):c[g]+"")),b.append(h)}},this.bottom=function(a,b){d.line||b.append(this.axisLine(a,{x2:a.width()}));for(var c=this.ticks,e=this.values,f=this.bar,g=0;g<c.length;g++){var h=a.svg.group({transform:"translate("+e[g]+", 0)"});h.append(this.line(a,{y2:d.line?-a.height():f})),h.append(a.text({x:0,y:3*f,"text-anchor":"middle",fill:a.theme("gridFontColor")},d.format?d.format(c[g]):c[g]+"")),b.append(h)}},this.left=function(a,b){d.line||b.append(this.axisLine(a,{y2:a.height()}));for(var c=this.ticks,e=this.values,f=this.bar,g=0;g<c.length;g++){var h=a.svg.group({transform:"translate(0,"+e[g]+")"});h.append(this.line(a,{x2:d.line?a.width():-f})),h.append(a.text({x:-f,y:-f,"text-anchor":"end",fill:a.theme("gridFontColor")},d.format?d.format(c[g]):c[g])),b.append(h)}},this.right=function(a,b){d.line||b.append(this.axisLine(a,{y2:a.height()}));for(var c=this.ticks,e=this.values,f=this.bar,g=0;g<c.length;g++){var h=a.svg.group({transform:"translate(0,"+e[g]+")"});h.append(this.line(a,{x2:d.line?-a.width():f})),h.append(a.text({x:f+4,y:-f,"text-anchor":"start",fill:a.theme("gridFontColor")},format?format(c[g]):c[g])),b.append(h)}},this.drawBefore=function(e){d=this.setDateDomain(e,d);var f=e.height();("top"==c||"bottom"==c)&&(f=e.width());var g=[0,f];this.scale=b.time().domain(d.domain).rangeRound(g),this.ticks=d.realtime?this.scale.realTicks(d.step[0],d.step[1]):this.scale.ticks(d.step[0],d.step[1]),"string"==typeof d.format&&!function(b,c){b.format=function(b){return a.format(b,c)}}(d,d.format),this.bar=6,this.values=[];for(var h=0,i=this.ticks.length;i>h;h++)this.values[h]=this.scale(this.ticks[h])},this.draw=function(a){return this.drawGrid(a,c,"date",d)}};return c},"chart.grid.core"),jui.define("chart.grid.radar",["util.math"],function(a){var b=function(b,c){function d(a,b,c,d,e,f){var g=Math.abs(f),h=c,i=d;b.append(a.svg.circle({cx:h,cy:i,r:g,"fill-opacity":0,stroke:a.theme("gridAxisBorderColor"),"stroke-width":a.theme("gridBorderWidth")}))}function e(b,c,d,e,f,g,h,i){var j=b.svg.group(),k=[];k.push([d+f,e+g]);for(var l=f,m=g,n=0;h>n;n++){var o=a.rotate(l,m,i);l=o.x,m=o.y,k.push([d+o.x,e+o.y])}for(var p=b.svg.path({fill:"none",stroke:b.theme("gridAxisBorderColor"),"stroke-width":b.theme("gridBorderWidth")}),n=0;n<k.length;n++){var q=k[n];0==n?p.MoveTo(q[0],q[1]):p.LineTo(q[0],q[1])}p.LineTo(k[0][0],k[0][1]),j.append(p),c.append(j)}function f(b){var d=c.max,e=c.domain;return function(c,f){var g=f/d,h=Math.abs(b.y1)-Math.abs(b.y2),i=h*g,j=2*Math.PI/e.length,k=b.x1,l=b.y1,m=-i,n=0,o=a.rotate(n,m,j*c);return n=o.x,m=o.y,{x:k+n,y:l+m}}}var g,h=[];this.drawBefore=function(a){c=this.setBlockDomain(a,c),g=c.format},this.draw=function(b){var g=b.width(),i=b.height();c.line="undefined"==typeof c.line?!0:c.line;var j=g;j>i&&(j=i);var k=j/2,l=b.x()+g/2,m=b.y()+i/2,n=-k,o=0,p=c.domain.length,q=c.step,r=2*Math.PI/p,s=Math.abs(n)/q,t=b.svg.group({"class":"grid radar"}),u=b.svg.group();t.append(u),h=[];for(var v=0;p>v;v++){var w=l+o,x=m+n;u.append(b.svg.line({x1:l,y1:m,x2:w,y2:x,stroke:b.theme("gridAxisBorderColor"),"stroke-width":b.theme("gridBorderWidth")})),h[v]={x1:l,y1:m,x2:w,y2:x};var y=x,z=w,A="middle";x>m?y=x+20:m>x&&(y=x-10),w>l?(A="start",z+=10):l>w&&(A="end",z-=10),c.hideText||u.append(b.text({x:z,y:y,"text-anchor":A,fill:b.theme("gridFontColor")},c.domain[v]));var B=a.rotate(o,n,r);o=B.x,n=B.y}if(!c.line)return{root:u,scale:f(h[0])};n=-k;for(var C=0,D=c.max/c.step,v=0;q>v;v++)0==v&&c.extra?n+=s:("circle"==c.shape?d(b,u,l,m,0,n,p):e(b,u,l,m,0,n,p,r),c.hideText||u.append(b.text({x:l,y:m+(n+s-5),fill:b.theme("gridFontColor")},c.max-C+"")),n+=s,C+=D);return c.hide&&u.attr({display:"none"}),{root:u,scale:f(h[0])}}};return b},"chart.grid.core"),jui.define("chart.grid.range",["util.scale"],function(a){var b=function(b,c){this.top=function(a,b){c.line||b.append(this.axisLine(a,{x2:a.width()}));for(var d=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=0==e[h]&&e[h]!=d,j=a.svg.group({transform:"translate("+f[h]+", 0)"});j.append(this.line(a,{y2:c.line?a.height():-g,stroke:a.theme(i,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(i,"gridActiveBorderWidth","gridBorderWidth")})),j.append(a.text({x:0,y:-g-4,"text-anchor":"middle",fill:a.theme(i,"gridActiveFontColor","gridFontColor")},c.format?c.format(e[h]):e[h]+"")),b.append(j)}},this.bottom=function(a,b){c.line||b.append(this.axisLine(a,{x2:a.width()}));for(var d=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=0==e[h]&&e[h]!=d,j=a.svg.group({transform:"translate("+f[h]+", 0)"});j.append(this.line(a,{y2:c.line?-a.height():g,stroke:a.theme(i,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(i,"gridActiveBorderWidth","gridBorderWidth")})),j.append(a.text({x:0,y:3*g,"text-anchor":"middle",fill:a.theme(i,"gridActiveFontColor","gridFontColor")},c.format?c.format(e[h]):e[h]+"")),b.append(j)}},this.left=function(a,b){c.line||b.append(this.axisLine(a,{y2:a.height()}));for(var d=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=0==e[h]&&e[h]!=d,j=a.svg.group({transform:"translate(0, "+f[h]+")"});j.append(this.line(a,{x2:c.line?a.width():-g,stroke:a.theme(i,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(i,"gridActiveBorderWidth","gridBorderWidth")})),c.hideText||j.append(a.text({x:-g-4,y:g,"text-anchor":"end",fill:a.theme(i,"gridActiveFontColor","gridFontColor")},c.format?c.format(e[h]):e[h]+"")),b.append(j)
}},this.right=function(a,b){c.line||b.append(this.axisLine(a,{y2:a.height()}));for(var d=this.scale.min(),e=this.ticks,f=this.values,g=this.bar,h=0;h<e.length;h++){var i=0==e[h]&&e[h]!=d,j=a.svg.group({transform:"translate(0, "+f[h]+")"});j.append(this.line(a,{x2:c.line?-a.width():g,stroke:a.theme(i,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":a.theme(i,"gridActiveBorderWidth","gridBorderWidth")})),j.append(a.text({x:g+4,y:g,"text-anchor":"start",fill:a.theme(i,"gridActiveFontColor","gridFontColor")},c.format?c.format(e[h]):e[h]+"")),b.append(j)}},this.drawBefore=function(d){c=this.setRangeDomain(d,c);var e=d.width(),f=d.height();this.scale=a.linear().domain(c.domain).range("left"==b||"right"==b?[f,0]:[0,e]),this.step=c.step||10,this.nice=c.nice||!1,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.values=[];for(var g=0,h=this.ticks.length;h>g;g++)this.values[g]=this.scale(this.ticks[g])},this.draw=function(a){return this.drawGrid(a,b,"range",c)}};return b},"chart.grid.core"),jui.define("chart.brush.core",["util.base"],function(){var a=function(){this.curvePoints=function(a){var b=[],c=[],d=a.length-1,e=[],f=[],g=[],h=[];for(e[0]=0,f[0]=2,g[0]=1,h[0]=a[0]+2*a[1],i=1;d-1>i;i++)e[i]=1,f[i]=4,g[i]=1,h[i]=4*a[i]+2*a[i+1];e[d-1]=2,f[d-1]=7,g[d-1]=0,h[d-1]=8*a[d-1]+a[d];for(var i=1;d>i;i++){var j=e[i]/f[i-1];f[i]=f[i]-j*g[i-1],h[i]=h[i]-j*h[i-1]}b[d-1]=h[d-1]/f[d-1];for(var i=d-2;i>=0;--i)b[i]=(h[i]-g[i]*b[i+1])/f[i];for(var i=0;d-1>i;i++)c[i]=2*a[i+1]-b[i+1];return c[d-1]=.5*(a[d]+b[d-1]),{p1:b,p2:c}},this.getScaleValue=function(a,b,c,d,e){function f(){var d=c-b,e=a-b,f=e/d;return f}var g=e-d,h=g*f();return h+d},this.getXY=function(a,b){for(var c=[],d=0,e=b.data().length;e>d;d++)for(var f=a.x(d),g=b.data(d),h=0;h<a.target.length;h++){var i=a.target[h],j=g[i],k=b.series(i);c[h]||(c[h]={x:[],y:[],value:[],min:[],max:[]}),c[h].x.push(f),c[h].y.push(a.y(j)),c[h].value.push(j),c[h].min.push(j==k.min?!0:!1),c[h].max.push(j==k.max?!0:!1)}return c},this.getStackXY=function(a,b){for(var c=this.getXY(a,b),d=0,e=b.data().length;e>d;d++)for(var f=b.data(d),g=0,h=0;h<a.target.length;h++){var i=a.target[h],j=f[i];h>0&&(g+=f[a.target[h-1]]),c[h].y[d]=a.y(j+g)}return c},this.addEvent=function(a,b,c,d,e){var f={index:a.index,target:a.target[d],data:b.data(e)};c.on("click",function(a){b.emit("click",[f,a])}),c.on("dblclick",function(a){b.emit("dblclick",[f,a])}),c.on("contextmenu",function(a){b.emit("rclick",[f,a]),a.preventDefault()}),c.on("mouseover",function(a){b.emit("mouseover",[f,a])}),c.on("mouseout",function(a){b.emit("mouseout",[f,a])}),c.on("mousemove",function(a){b.emit("mousemove",[f,a])}),c.on("mousedown",function(a){b.emit("mousedown",[f,a])}),c.on("mouseup",function(a){b.emit("mouseup",[f,a])})}};return a},"chart.draw"),jui.define("chart.brush.bar",[],function(){var a=function(a){var b,c,d,e,f,g,h,i;this.drawBefore=function(j){b=j.svg.group().translate(j.x(),j.y()),h=a.outerPadding,i=a.innerPadding,c=a.x(0),d=j.data().length,e=a.y.rangeBand(),f=e-2*h,g=(f-(a.target.length-1)*i)/a.target.length},this.draw=function(e){for(var h=0;d>h;h++){for(var j=a.y(h)-f/2,k=e.svg.group(),l=0;l<a.target.length;l++){var m=a.x(e.data(h,a.target[l])),n=null;if(m>=c)n=e.svg.rect({x:c,y:j,height:g,width:Math.abs(c-m),fill:e.color(l,a.colors)});else{var o=Math.abs(c-m);n=e.svg.rect({y:j,x:c-o,height:g,width:o,fill:e.color(l,a.colors)})}this.addEvent(a,e,n,l,h),k.append(n),j+=g+i}b.append(k)}return b},this.drawSetup=function(){return{outerPadding:2,innerPadding:1}}};return a},"chart.brush.core"),jui.define("chart.brush.bubble",[],function(){var a=function(a){function b(a,b,d,e){var f=b.series(a.target[e]),g=c.getScaleValue(d.value,f.min,f.max,a.min,a.max);return b.svg.circle({cx:d.x,cy:d.y,r:g,fill:b.color(e,a.colors),"fill-opacity":b.theme("bubbleOpacity"),stroke:b.color(e,a.colors),"stroke-width":b.theme("bubbleBorderWidth")})}var c=this;this.drawBubble=function(a,c,d){for(var e=c.svg.group({"clip-path":"url(#"+c.clipId+")"}).translate(c.x(),c.y()),f=0;f<d.length;f++)for(var g=0;g<d[f].x.length;g++){var h=b(a,c,{x:d[f].x[g],y:d[f].y[g],value:d[f].value[g]},f);this.addEvent(a,c,h,f,g),e.append(h)}return e},this.draw=function(b){return this.drawBubble(a,b,this.getXY(a,b))},this.drawSetup=function(){return{min:5,max:30}}};return a},"chart.brush.core"),jui.define("chart.brush.candlestick",[],function(){var a=function(a){function b(b){for(var c={},d=0;d<a.target.length;d++){var e=b.series(a.target[d]);c[e.type]=e}return c}var c,d,e=0,f=0,g=0;this.drawBefore=function(b){c=b.svg.group().translate(b.x(),b.y()),d=b.data().length,e=a.x.rangeBand(),f=.7*e,g=f/2},this.draw=function(e){for(var h=b(e),i=0;d>i;i++){var j=a.x(i),k=null,l=null,m=h.open.data[i],n=h.close.data[i],o=h.low.data[i],p=h.high.data[i];if(m>n){var q=a.y(m);l=e.svg.line({x1:j,y1:a.y(p),x2:j,y2:a.y(o),stroke:e.theme("candlestickInvertBorderColor"),"stroke-width":1}),k=e.svg.rect({x:j-g,y:q,width:f,height:Math.abs(a.y(n)-q),fill:e.theme("candlestickInvertBackgroundColor"),stroke:e.theme("candlestickInvertBorderColor"),"stroke-width":1})}else{var q=a.y(n);l=e.svg.line({x1:j,y1:a.y(p),x2:j,y2:a.y(o),stroke:e.theme("candlestickBorderColor"),"stroke-width":1}),k=e.svg.rect({x:j-g,y:q,width:f,height:Math.abs(a.y(m)-q),fill:e.theme("candlestickBackgroundColor"),stroke:e.theme("candlestickBorderColor"),"stroke-width":1})}this.addEvent(a,e,k,null,i),c.append(l),c.append(k)}return c},this.drawSetup=function(){return{}}};return a},"chart.brush.core"),jui.define("chart.brush.ohlc",[],function(){var a=function(a){function b(b){for(var c={},d=0;d<a.target.length;d++){var e=b.series(a.target[d]);c[e.type]=e}return c}var c,d;this.drawBefore=function(a){c=a.svg.group().translate(a.x(),a.y()),d=a.data().length},this.draw=function(e){for(var f=b(e),g=0;d>g;g++){var h=a.x(g),i=f.open.data[g],j=f.close.data[g],k=f.low.data[g],l=f.high.data[g],m=e.theme(i>j?"ohlcInvertBorderColor":"ohlcBorderColor"),n=e.svg.line({x1:h,y1:a.y(l),x2:h,y2:a.y(k),stroke:m,"stroke-width":1}),j=e.svg.line({x1:h,y1:a.y(j),x2:h+e.theme("ohlcBorderRadius"),y2:a.y(j),stroke:m,"stroke-width":1}),i=e.svg.line({x1:h,y1:a.y(i),x2:h-e.theme("ohlcBorderRadius"),y2:a.y(i),stroke:m,"stroke-width":1});this.addEvent(a,e,n,null,g),c.append(n),c.append(j),c.append(i)}return c},this.drawSetup=function(){return{}}};return a},"chart.brush.core"),jui.define("chart.brush.column",[],function(){var a=function(a){var b,c,d,e,f,g,h,i;this.drawBefore=function(j){b=j.svg.group().translate(j.x(),j.y()),h=a.outerPadding,i=a.innerPadding,c=a.y(0),d=j.data().length,e=a.x.rangeBand(),g=e-2*h,f=(e-2*h-(a.target.length-1)*i)/a.target.length},this.draw=function(e){for(var h=0;d>h;h++)for(var j=a.x(h)-g/2,k=0;k<a.target.length;k++){var l=a.y(e.data(h)[a.target[k]]),m=null;m=e.svg.rect(c>=l?{x:j,y:l,width:f,height:Math.abs(c-l),fill:e.color(k,a.colors)}:{x:j,y:c,width:f,height:Math.abs(c-l),fill:e.color(k,a.colors)}),this.addEvent(a,e,m,k,h),b.append(m),j+=f+i}return b},this.drawSetup=function(){return{outerPadding:2,innerPadding:1}}};return a},"chart.brush.core"),jui.define("chart.brush.donut",["util.math"],function(a){var b=function(b){var c,d,e,f,g,h,i;this.drawBefore=function(a){var j=a.width(),k=a.height(),l=j;l>k&&(l=k),c=l/2,d=j/2,e=k/2,f=-c,g=0,h=Math.abs(f),i=h-b.size},this.drawDonut=function(b,c,d,e,f,g,h,i,j){j=j||!1;var k=Math.abs(f-e),l=b.svg.group({"class":"donut"}),m=b.svg.path(i),n=a.rotate(0,-f,a.radian(g)),o=n.x,p=n.y,q=a.rotate(0,-e,a.radian(g)),r=q.x,s=q.y;if(m.MoveTo(o,p),n=a.rotate(o,p,a.radian(h)),q=a.rotate(r,s,a.radian(h)),l.translate(c,d),m.Arc(f,f,0,h>180?1:0,1,n.x,n.y),m.LineTo(q.x,q.y),m.Arc(e,e,0,h>180?1:0,0,r,s),m.ClosePath(),l.append(m),j){var t=a.rotate(0,-e-k/2,a.radian(g)),u=t.x,v=t.y;centerCircleLine=a.rotate(u,v,a.radian(h));var w=b.svg.circle({cx:centerCircleLine.x,cy:centerCircleLine.y,r:k/2,fill:i.fill});l.append(w);var x=b.svg.circle({cx:centerCircleLine.x,cy:centerCircleLine.y,r:3,fill:"white"});l.append(x)}return l},this.draw=function(a){var c=a.series(b.target[0]),f=a.svg.group({"class":"brush donut"});f.translate(a.x(),a.y());for(var g=360,j=0,k=0,l=0;l<c.data.length;l++)k+=c.data[l];for(var l=0;l<c.data.length;l++){var m=c.data[l],n=g*(m/k),o=this.drawDonut(a,d,e,i,h,j,n,{fill:a.color(l,b.colors),stroke:a.theme("donutBorderColor"),"stroke-width":a.theme("donutBorderWidth")});this.addEvent(b,a,o,0,l),f.append(o),j+=n}return f},this.drawSetup=function(){return{size:50}}};return b},"chart.brush.core"),jui.define("chart.brush.equalizer",[],function(){var a=function(a){var b,c,d,e,f,g;this.drawBefore=function(h){b=h.svg.group().translate(h.x(),h.y()),c=a.y(0),d=h.data().length,e=a.x.rangeBand(),g=(e-2*a.outerPadding)/2,f=(e-2*a.outerPadding-(a.target.length-1)*a.innerPadding)/a.target.length},this.draw=function(e){for(var h=0;d>h;h++)for(var i=a.x(h)-g,j=0;j<a.target.length;j++){var k=e.svg.group(),l=a.y(e.data(h,a.target[j])),m=1.5,n=c,o=0;if(c>=l)for(;n>l;){var p=n-a.unit<l?Math.abs(n-l):a.unit,q=e.svg.rect({x:i,y:n-p,width:f,height:p,fill:e.color(Math.floor(o/a.gap),a.colors)});n-=p+m,o++,k.append(q)}else for(;l>n;){var p=n+a.unit>l?Math.abs(n-l):a.unit,q=e.svg.rect({x:i,y:n,width:f,height:p,fill:e.color(Math.floor(o/a.gap),a.colors)});n+=p+m,o++,k.append(q)}this.addEvent(a,e,k,j,h),b.append(k),i+=f+a.innerPadding}return b},this.drawSetup=function(){return{innerPadding:10,outerPadding:15,unit:5,gap:5}}};return a},"chart.brush.core"),jui.define("chart.brush.fullstack",[],function(){var a=function(a){var b,c,d,e,f;this.drawBefore=function(g){b=g.svg.group().translate(g.x(),g.y()),c=a.y(0),d=g.data().length,e=a.x.rangeBand(),f=e-2*a.outerPadding},this.draw=function(c){for(var e=c.height(),g=0;d>g;g++){for(var h=a.x(g)-f/2,i=0,j=[],k=0;k<a.target.length;k++){var l=c.data(g,a.target[k]);i+=l,j.push(l)}for(var m=0,n=a.y.max(),o=n,k=j.length-1;k>=0;k--){var l=e-a.y.rate(j[k],i),p=c.svg.rect({x:h,y:m,width:f,height:l,fill:c.color(k,a.colors)});if(this.addEvent(a,c,p,k,g),b.append(p),a.text){var q=Math.round(j[k]/i*n),r=c.svg.text({x:h+f/2,y:m+l/2+8,"text-anchor":"middle"},(0>o-q?o:q)+"%");b.append(r),o-=q}m+=l}}return b},this.drawSetup=function(){return{outerPadding:15}}};return a},"chart.brush.core"),jui.define("chart.brush.line",[],function(){var a=function(a){this.createLine=function(a,b,c,d){var e=c.x,f=c.y,g=b.svg.path({stroke:b.color(d,a.colors),"stroke-width":b.theme("lineBorderWidth"),fill:"transparent"}).MoveTo(e[0],f[0]);if("curve"==a.symbol)for(var h=this.curvePoints(e),i=this.curvePoints(f),j=0;j<e.length-1;j++)g.CurveTo(h.p1[j],i.p1[j],h.p2[j],i.p2[j],e[j+1],f[j+1]);else for(var j=0;j<e.length-1;j++)"step"==a.symbol&&g.LineTo(e[j],f[j+1]),g.LineTo(e[j+1],f[j+1]);return g},this.drawLine=function(a,b,c){for(var d=b.svg.group().translate(b.x(),b.y()),e=0;e<c.length;e++){var f=this.createLine(a,b,c[e],e);this.addEvent(a,b,f,e,null),d.append(f)}return d},this.draw=function(b){return this.drawLine(a,b,this.getXY(a,b))},this.drawSetup=function(){return{symbol:"normal"}}};return a},"chart.brush.core"),jui.define("chart.brush.path",[],function(){var a=function(a){this.draw=function(b){for(var c=b.svg.group({"class":"brush path"}),d=b.data(),e=d.length,f=0,g=a.target.length;g>f;f++){var h=b.color(f,a.colors),i=b.svg.path({fill:h,"fill-opacity":b.theme("pathOpacity"),stroke:h,"stroke-width":b.theme("pathBorderWidth")});c.append(i);for(var j=0;e>j;j++){var k=a.c(j,b.data(j,a.target[f]));0==j?i.MoveTo(k.x,k.y):i.LineTo(k.x,k.y)}i.ClosePath()}return c},this.drawSetup=function(){return{}}};return a},"chart.brush.core"),jui.define("chart.brush.pie",["util.math"],function(a){var b=function(b){var c,d,e,f;this.drawBefore=function(a){var b=a.width(),g=a.height(),h=b;h>g&&(h=g),c=h/2,d=b/2,e=g/2,f=c},this.drawPie=function(b,c,d,e,f,g,h){var i=b.svg.group({"class":"pie"}),j=b.svg.path(h),k=a.rotate(0,-e,a.radian(f)),l=k.x,m=k.y;return j.MoveTo(l,m),k=a.rotate(l,m,a.radian(g)),i.translate(c,d),j.Arc(e,e,0,g>180?1:0,1,k.x,k.y),j.LineTo(0,0),j.ClosePath(),i.append(j),i},this.draw=function(a){for(var c=a.series(b.target[0]),g=a.svg.group({"class":"brush donut"}).translate(a.x(),a.y()),h=360,i=0,j=0,k=0;k<c.data.length;k++)j+=c.data[k];for(var k=0;k<c.data.length;k++){var l=c.data[k],m=h*(l/j),n=this.drawPie(a,d,e,f,i,m,{fill:a.color(k,b.colors),stroke:a.theme("pieBorderColor"),"stroke-width":a.theme("pieBorderWidth")});this.addEvent(b,a,n,0,k),g.append(n),i+=m}return g},this.drawSetup=function(){return{}}};return b},"chart.brush.core"),jui.define("chart.brush.scatter",[],function(){var a=function(a){function b(a,b,c,d){var e=null,f=b.series(a.target[d]),g=f.symbol?f.symbol:a.symbol,i=h=a.size,j=b.color(d,a.colors),k=b.theme("scatterBorderColor"),l=b.theme("scatterBorderWidth");return e="triangle"==g||"cross"==g?b.svg.group({width:i,height:h},function(){function a(){e.attr({"stroke-width":3}),f.attr({"stroke-width":3})}function c(){e.attr({"stroke-width":2}),f.attr({"stroke-width":2})}if("triangle"==g){var d=b.svg.polygon();d.point(0,h).point(i,h).point(i/2,0)}else{var e=b.svg.line({stroke:j,"stroke-width":2,x1:0,y1:0,x2:i,y2:h}),f=b.svg.line({stroke:j,"stroke-width":2,x1:0,y1:i,x2:h,y2:0});e.hover(a,c),f.hover(a,c)}}).translate(c.x-i/2,c.y-h/2):"rectangle"==g?b.svg.rect({width:i,height:h,x:c.x-i/2,y:c.y-h/2}):b.svg.ellipse({rx:i/2,ry:h/2,cx:c.x,cy:c.y}),e.attr({fill:j,stroke:k,"stroke-width":l}).hover(function(){e.attr({stroke:j})},function(){e.attr({stroke:k})}),e}this.drawScatter=function(a,c,d){for(var e=c.svg.group().translate(c.x(),c.y()),f=0;f<d.length;f++)for(var g=0;g<d[f].x.length;g++){var h=b(a,c,{x:d[f].x[g],y:d[f].y[g]},f);this.addEvent(a,c,h,f,g),e.append(h)}return e},this.draw=function(b){return this.drawScatter(a,b,this.getXY(a,b))},this.drawSetup=function(){return{symbol:"circle",size:5}}};return a},"chart.brush.core"),jui.define("chart.brush.stackbar",[],function(){var a=function(a){var b,c,d,e,f;this.drawBefore=function(g){b=g.svg.group().translate(g.x(),g.y()),c=g.series(),d=g.data().length,e=a.y.rangeBand(),f=e-2*a.outerPadding},this.draw=function(c){for(var e=0;d>e;e++){for(var g=c.svg.group(),h=a.y(e)-f/2,i=a.x(0),j=0,k=0;k<a.target.length;k++){var l=c.data(e,a.target[k])+j,m=a.x(l),n=c.svg.rect({x:m>i?i:m,y:h,width:Math.abs(i-m),height:f,fill:c.color(k,a.colors)});this.addEvent(a,c,n,e,k),g.append(n),i=m,j=l}b.append(g)}return b},this.drawSetup=function(){return{outerPadding:15}}};return a},"chart.brush.core"),jui.define("chart.brush.stackcolumn",[],function(){var a=function(a){var b,c,d,e,f;this.drawBefore=function(g){b=g.svg.group().translate(g.x(),g.y()),c=a.y(0),d=g.data().length,e=a.x.rangeBand(),f=e-2*a.outerPadding},this.draw=function(c){for(var e=0;d>e;e++){for(var g=c.svg.group(),h=a.x(e)-f/2,i=a.y(0),j=0,k=0;k<a.target.length;k++){var l=c.data(e,a.target[k])+j,m=a.y(l),n=c.svg.rect({x:h,y:i>m?m:i,width:f,height:Math.abs(i-m),fill:c.color(k,a.colors)});this.addEvent(a,c,n,e,k),g.append(n),i=m,j=l}b.append(g)}return b},this.drawSetup=function(){return{outerPadding:15}}};return a},"chart.brush.core"),jui.define("chart.brush.bargauge",["util.math"],function(){var a=function(a){var b=0,c=0;this.draw=function(d){var e=d.svg.group({"class":"brush bar gauge"}).translate(d.x(),d.y());if(a.split)var f=d.width();else var f=d.width();for(var g=0,h=d.data().length;h>g;g++){var i=d.data(g),j=d.svg.group({"class":"bar"});j.append(d.text({x:c,y:b+a.size/2+a.cut,"text-anchor":"end",fill:d.color(g,a.colors)},i[a.title]||i.title||"")),j.append(d.svg.rect({x:c+a.cut,y:b,width:f,height:a.size,fill:"#ececec"}));var k=i.value*f/100,l=(100-i.value)*f/100,m=c+a.cut;if("center"==a.align?m+=f/2-k/2:"right"==a.align&&(m+=f-k),j.append(d.svg.rect({x:m,y:b,width:k,height:a.size,fill:d.color(g,a.colors)})),a.split)var n=c+k+2*a.cut+l,o="start",p=d.color(g,a.colors);else{var n=c+2*a.cut,o="start",p="white";"center"==this.align?(n=c+a.cut+f/2,o="middle"):"right"==a.align&&(n=c+f,o="end")}j.append(d.text({x:n,y:b+a.size/2+a.cut,"text-anchor":o,fill:p},a.format?a.format(i.value):i.value+"%")),e.append(j),b+=a.size+a.cut}return e},this.drawSetup=function(){return{cut:5,size:20,split:!1,align:"left",title:""}}};return a},"chart.brush.core"),jui.define("chart.brush.circlegauge",["util.math"],function(){var a=function(a){var b,c,d,e;this.drawBefore=function(a){var f=a.width(),g=a.height(),h=f;h>g&&(h=g),b=h/2,c=f/2,d=g/2,e=b},this.draw=function(b){var f=(a.value-a.min)/(a.max-a.min),g=b.svg.group({"class":"brush circle gauge"}).translate(b.x(),b.y());return g.append(b.svg.circle({cx:c,cy:d,r:e,fill:"#ececec",stroke:b.color(0,a.colors),"stroke-width":2})),g.append(b.svg.circle({cx:c,cy:d,r:e*f,fill:b.color(0,a.colors)})),g},this.drawSetup=function(){return{min:0,max:100,value:0}}};return a},"chart.brush.core"),jui.define("chart.brush.fillgauge",["jquery"],function(a){var b=function(b){var c,d,e,f,g,h;this.drawBefore=function(a){var b=a.width(),i=a.height(),j=b;j>i&&(j=i),c=j/2,d=b/2,e=i/2,f=c,g=a.createId("fill-gauge");var k=a.svg.clipPath({id:g});h=a.svg.rect({x:0,y:0,width:0,height:0}),k.append(h),a.defs.append(k)},this.drawPath=function(a,b,c){b.append(a.svg.path({x:0,y:0,fill:"#ececec",d:c})),b.append(a.svg.path({x:0,y:0,fill:a.color(0),d:c,"clip-path":"url(#"+g+")"}))},this.draw=function(c){var h=this,i=c.svg.group({"class":"brush fill gauge",opacity:.8});return i.translate(c.x(),c.y()),this.direction(c,b.direction),"circle"==b.shape?(i.append(c.svg.circle({cx:d,cy:e,r:f,fill:"#ececec"})),i.append(c.svg.circle({cx:d,cy:e,r:f,fill:c.color(2,b.colors),"clip-path":"url(#"+g+")"}))):"rect"==b.shape?(i.append(c.svg.rect({x:0,y:0,width:c.width(),height:c.height(),fill:"#ececec"})),i.append(c.svg.rect({x:0,y:0,width:c.width(),height:c.height(),fill:c.color(2,b.colors),"clip-path":"url(#"+g+")"}))):""!=b.svg?a.ajax({url:b.svg,async:!1,success:function(b){var d=a(b).find("path").attr("d");h.drawPath(c,i,d)}}):h.drawPath(c,i,b.path),i},this.direction=function(a,c){var d=(b.value-b.min)/(b.max-b.min);if("vertical"==c)var e=a.height()*d,f=a.width(),g=0,i=a.height()-e;else var e=a.height(),f=a.width()*d,g=0,i=0;h.attr({x:g,y:i,width:f,height:e})},this.drawSetup=function(){return{min:0,max:100,value:0,shape:"circle",direction:"vertical",svg:"",path:""}}};return b},"chart.brush.core"),jui.define("chart.brush.area",[],function(){var a=function(a){this.drawArea=function(a,b,c){for(var d=b.svg.group().translate(b.x(),b.y()),e=b.height(),f=0;f<c.length;f++){var g=this.createLine(a,b,c[f],f),h=c[f].x;g.LineTo(h[h.length-1],e),g.LineTo(h[0],e),g.ClosePath(),g.attr({fill:b.color(f,a.colors),"fill-opacity":b.theme("areaOpacity"),"stroke-width":0}),d.prepend(g)}return d},this.draw=function(b){return this.drawArea(a,b,this.getXY(a,b))}};return a},"chart.brush.line"),jui.define("chart.brush.stackline",[],function(){var a=function(a){this.draw=function(b){return this.drawLine(a,b,this.getStackXY(a,b))}};return a},"chart.brush.line"),jui.define("chart.brush.stackarea",[],function(){var a=function(a){this.draw=function(b){return this.drawArea(a,b,this.getStackXY(a,b))}};return a},"chart.brush.area"),jui.define("chart.brush.stackscatter",[],function(){var a=function(a){this.draw=function(b){return this.drawScatter(a,b,this.getStackXY(a,b))}};return a},"chart.brush.scatter"),jui.define("chart.brush.gauge",["util.math"],function(a){var b=function(b){var c,d,e,f,g;this.drawBefore=function(a){var h=a.width(),i=a.height(),j=h;j>i&&(j=i),c=j/2,d=h/2,e=i/2,f=c,g=f-b.size},this.drawText=function(c,g,h,i,j,k){var l=c.svg.group({"class":"gauge text"}).translate(d,e);l.append(c.svg.text({x:0,y:b.arrow?70:10,"text-anchor":"middle","font-family":c.theme("fontFamily"),"font-size":"3em","font-weight":1e3},k+"")),""!=b.unitText&&l.append(c.text({x:0,y:100,"text-anchor":"middle","font-family":c.theme("fontFamily"),"font-size":"1.5em","font-weight":500},b.unitText));var m=0,n=-f,o=a.rotate(m,n,a.radian(g));m=o.x,n=o.y,l.append(c.text({x:o.x+30,y:o.y+20,"text-anchor":"middle","font-family":"Verdana"},i+""));var o=a.rotate(m,n,a.radian(h));return l.append(c.text({x:o.x-20,y:o.y+20,"text-anchor":"middle","font-family":"Verdana"},j+"")),l},this.drawArrow=function(a,b,c){var g=a.svg.group({"class":"gauge block"}).translate(d,e),h=0,i=-(f+5),j=a.svg.path({stroke:a.theme("gaugeArrowColor"),"stroke-width":.2,fill:a.theme("gaugeArrowColor")});return j.MoveTo(h,i),j.LineTo(5,0),j.LineTo(-5,0),j.ClosePath(),j.rotate(b),g.append(j),j.rotate(c+b),g.append(a.svg.circle({cx:0,cy:0,r:5,fill:a.theme("gaugeArrowColor")})),g.append(a.svg.circle({cx:0,cy:0,r:2,fill:a.theme("gaugeArrowColor")})),g},this.draw=function(a){var c=a.svg.group({"class":"brush donut"}).translate(a.x(),a.y()),h=(b.value-b.min)/(b.max-b.min),i=b.endAngle*h;b.endAngle>=360&&(b.endAngle=359.99999);var j=this.drawDonut(a,d,e,g,f,b.startAngle+i,b.endAngle-i,{fill:a.theme("gaugeBackgroundColor")});return c.append(j),j=this.drawDonut(a,d,e,g,f,b.startAngle,i,{fill:a.color(0,b.colors)}),c.append(j),b.arrow&&(j=this.drawArrow(a,b.startAngle,i),c.append(j)),j=this.drawText(a,b.startAngle,b.endAngle,b.min,b.max,b.value),c.append(j),c},this.drawSetup=function(){return{min:0,max:100,value:0,rate:100,size:60,startAngle:0,endAngle:360,arrow:!0,unitText:""}}};return b},"chart.brush.donut"),jui.define("chart.brush.fullgauge",["util.math"],function(){var a=function(a){var b,c,d,e,f;this.drawBefore=function(g){var h=g.width(),i=g.height(),j=h;j>i&&(j=i),b=j/2,c=h/2,d=i/2,e=b,f=e-a.size},this.drawText=function(b,e,f,g,h,i){var j=b.svg.group({"class":"gauge text"});return j.translate(c,d),""!=a.text&&j.append(b.svg.text({x:0,y:10,"text-anchor":"middle","font-family":b.theme("fontFamily"),"font-size":"3.5em","font-weight":1e3},i+"")),""!=a.unitText&&j.append(b.text({x:0,y:40,"text-anchor":"middle","font-family":b.theme("fontFamily"),"font-size":"2em","font-weight":500},a.unitText)),j},this.draw=function(b){var g=b.svg.group({"class":"brush donut"}).translate(b.x(),b.y()),h=(a.value-a.min)/(a.max-a.min),i=a.endAngle*h;a.endAngle>=360&&(a.endAngle=359.99999);var j=this.drawDonut(b,c,d,f,e,a.startAngle+i,a.endAngle-i,{fill:b.theme("gaugeBackgroundColor")});return g.append(j),j=this.drawDonut(b,c,d,f,e,a.startAngle,i,{fill:b.color(0,a.colors)}),g.append(j),j=this.drawText(b,a.startAngle,a.endAngle,a.min,a.max,a.value),g.append(j),g},this.drawSetup=function(){return{min:0,max:100,value:0,rate:100,size:60,startAngle:0,endAngle:300,text:"",unitText:""}}};return a},"chart.brush.donut"),jui.define("chart.brush.stackgauge",["util.math"],function(){var a=function(a){var b,c,d,e;this.drawBefore=function(a){var f=a.width(),g=a.height(),h=f;h>g&&(h=g),b=h/2,c=f/2,d=g/2,e=b},this.draw=function(b){for(var f=b.svg.group({"class":"brush donut"}).translate(b.area("x"),b.area("y")),g=0,h=b.data().length;h>g;g++){var i=(b.data(g)[a.target]-a.min)/(a.max-a.min),j=a.endAngle*i,k=e-a.size+a.cut;a.endAngle>=360&&(a.endAngle=359.99999);var l=this.drawDonut(b,c,d,k,e,a.startAngle+j,a.endAngle-j,{fill:b.theme("gaugeBackgroundColor")});f.append(l),l=this.drawDonut(b,c,d,k,e,a.startAngle,j,{fill:b.color(g,a.colors)},!0),f.append(l),f.append(b.text({x:c+2,y:d+Math.abs(e)-5,fill:b.color(g,a.colors),"font-size":"12px","font-weight":"bold"},b.data(g)[""!=a.title]||b.data(g).title||"")),e-=a.size}return f},this.drawSetup=function(){return{min:0,max:100,cut:5,size:24,startAngle:-180,endAngle:360,title:""}}};return a},"chart.brush.donut"),jui.define("chart.widget.core",["util.base"],function(){var a=function(){this.balloonPoints=function(a,b,c,d){var e=[];return"top"==a?(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c].join(",")),e.push([b/2+d/2,c].join(",")),e.push([b/2,c+d].join(",")),e.push([b/2-d/2,c].join(",")),e.push([0,c].join(","))):"bottom"==a?(e.push([0,d].join(",")),e.push([b/2-d/2,d].join(",")),e.push([b/2,0].join(",")),e.push([b/2+d/2,d].join(",")),e.push([b,d].join(",")),e.push([b,d+c].join(",")),e.push([0,d+c].join(","))):"left"==a?(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c/2-d/2].join(",")),e.push([b+d,c/2].join(",")),e.push([b,c/2+d/2].join(",")),e.push([b,c].join(",")),e.push([0,c].join(","))):"right"==a&&(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c].join(",")),e.push([0,c].join(",")),e.push([0,c/2+d/2].join(",")),e.push([0-d,c/2].join(",")),e.push([0,c/2-d/2].join(","))),e.join(" ")},this.offset=function(a,b){var c=b.offsetX,d=b.offsetY;if(!c&&!d){var e=$(a.root).offset();c=b.layerX-e.left,d=b.layerY-e.top}return{x:c,y:d}}};return a},"chart.draw"),jui.define("chart.widget.tooltip",["jquery"],function(a){var b=function(b){function c(a,c,d){if(c.target&&b.all===!1){var f=a.series(c.target);"bottom"==b.position&&e.attr({y:i+h}),e.attr({"text-anchor":"middle"}),e.html((f.text?f.text:c.target)+": "+c.data[c.target])}else{for(var j=[],k=a.brush(d),l=0;l<k.target.length;l++){var m=k.target[l],f=a.series(m),n=g,o=i*l+2*g;"bottom"==b.position&&(o+=h),j.push("<tspan x='"+n+"' y='"+o+"'>"+(f.text?f.text:m)+": "+c.data[m]+"</tspan>")}e.attr({"text-anchor":"inherit"}),e.html(j.join(""))}}var d,e,f,g=7,h=7,i=14;this.drawBefore=function(a){d=a.svg.group({visibility:"hidden"},function(){f=a.svg.polygon({fill:a.theme("tooltipBackgroundColor"),"fill-opacity":a.theme("tooltipOpacity"),stroke:a.theme("tooltipBorderColor"),"stroke-width":1}),e=a.svg.text({"font-family":a.theme("fontFamily"),"font-size":a.theme("tooltipFontSize"),fill:a.theme("tooltipFontColor"),y:i})})},this.draw=function(i){var j,k,l=this,m=!1;return i.on("mouseover",function(n){if(!(m||-1==a.inArray(n.index,b.brush)&&b.brush!=n.index)){c(i,n,b.brush);var o=e.element.getBBox();j=o.width+2*g,k=o.height+g,e.attr({x:j/2}),f.attr({points:l.balloonPoints(b.position,j,k,h)}),d.attr({visibility:"visible"}),m=!0}}),i.on("mousemove",function(a,c){if(m){var e=l.offset(i,c),f=e.x-j/2,n=e.y-k-h-g/2;("left"==b.position||"right"==b.position)&&(n=e.y-k/2-g/2),"left"==b.position?f=e.x-j-h:"right"==b.position?f=e.x+h:"bottom"==b.position&&(n=e.y+2*h),d.translate(f,n)}}),i.on("mouseout",function(){m&&(d.attr({visibility:"hidden"}),m=!1)}),d},this.drawSetup=function(){return{position:"top",all:!1,brush:0}}};return b},"chart.widget.core"),jui.define("chart.widget.title",["util.base"],function(){var a=function(a){var b=0,c=0,d="middle";this.drawBefore=function(e){"bottom"==a.position?c=e.y2()+e.padding("bottom")-20:"top"==a.position&&(c=20),"center"==a.align?(b=e.x()+e.width()/2,d="middle"):"left"==a.align?(b=e.x(),d="start"):(b=e.x2(),d="end")},this.draw=function(e){return""!=a.text?e.text({x:b+a.dx,y:c+a.dy,"text-anchor":d,"font-family":e.theme("fontFamily"),"font-size":e.theme("titleFontSize"),fill:e.theme("titleFontColor")},a.text):void 0},this.drawSetup=function(){return{position:"top",align:"center",text:"",dx:0,dy:0}}};return a},"chart.widget.core"),jui.define("chart.widget.legend",["util.base"],function(){var a=function(a){this.getLegendIcon=function(b,c){var d=[],e=c.target;null!=a.key&&(e=b.data());for(var f=e.length,g=0;f>g;g++){if(null!=a.key)var h=b.series(a.key).text||e[g][a.key];else var i=c.target[g],h=b.series(i).text||i;var j=b.svg.getTextRect(h),k=Math.min(j.width,j.height),l=k,m=b.svg.group({"class":"legend icon"});m.append(b.svg.rect({x:0,y:0,width:k,height:l,fill:b.color(g,c.colors)})),m.append(b.text({x:k+4,y:11,"font-family":b.theme("fontFamily"),"font-size":b.theme("legendFontSize"),fill:b.theme("legendFontColor"),"text-anchor":"start"},h)),d.push({icon:m,width:k+4+j.width+10,height:l+4})}return d},this.draw=function(b){for(var c=b.svg.group({"class":"widget legend"}),d=0,e=0,f=0,g=0,h=0,i=0,j=0;j<a.brush.length;j++)for(var k=a.brush[j],l=b.brush(k),m=this.getLegendIcon(b,l),n=0;n<m.length;n++)c.append(m[n].icon),m[n].icon.translate(d,e),"bottom"==a.position||"top"==a.position?(d+=m[n].width,f+=m[n].width,i<m[n].height&&(i=m[n].height)):(e+=m[n].height,g+=m[n].height,h<m[n].width&&(h=m[n].width));if("bottom"==a.position||"top"==a.position){var e="bottom"==a.position?b.y2()+b.padding("bottom")-i:b.y()-b.padding("top");"start"==a.align?d=b.x():"center"==a.align?d=b.x()+(b.width()/2-f/2):"end"==a.align&&(d=b.x2()-f)}else{var d="left"==a.position?b.x()-b.padding("left"):b.x2()+b.padding("right")-h;"start"==a.align?e=b.y():"center"==a.align?e=b.y()+(b.height()/2-g/2):"end"==a.align&&(e=b.y2()-g)}return c.translate(Math.floor(d),Math.floor(e)),c},this.drawSetup=function(){return{brush:[0],position:"bottom",align:"center",key:null}}};return a},"chart.widget.core"),jui.define("chart.widget.scroll",["util.base"],function(){var a=function(){function a(a,f){var g=!1,j=0,k=0;f.on("mousedown",function(c){if(!g){var e=b.offset(a,c);g=!0,j=e.x,k=d}}),a.addEvent("body","mousemove",function(l){if(g){var m=b.offset(a,l),n=k+m.x-j;0>n?n=0:n+c>a.width()&&(n=a.width()-c),f.translate(n,1),d=n;var o=n*i,p=0==o?0:Math.floor(o/h);n+c==a.width()&&(p+=1),a.zoom(p,p+e)}}),a.addEvent("body","mouseup",function(){g&&(g=!1,j=0,k=0)})}var b=this,c=0,d=0,e=0,f=0,g=0,h=0,i=0;this.drawBefore=function(a){var b=a.options;f=b.data.length,e=b.bufferCount,h=a.width()/e,g=h*f,i=g/a.width(),c=a.width()*(e/f)+2},this.draw=function(b){return b.svg.group({},function(){b.svg.rect({width:b.width(),height:7,fill:b.theme("scrollBackgroundColor")});var e=b.svg.rect({width:c,height:5,fill:b.theme("scrollThumbBackgroundColor"),stroke:b.theme("scrollThumbBorderColor"),"stroke-width":1}).translate(d,1);a(b,e)}).translate(b.x(),b.y2())},this.drawSetup=function(){return{}}};return a},"chart.widget.core"),jui.define("chart.widget.zoom",["util.base"],function(){var a=function(){function a(a,b,e){function f(){g=!1,h=0,i=0,b.attr({width:0})}var g=!1,h=0,i=0;a.on("bg.mousedown",function(b){if(!(g||a.zoom().start>0)){var c=d.offset(a,b);g=!0,h=c.x}}),a.on("bg.mousemove",function(c){if(g){var e=d.offset(a,c);i=e.x-h,i>0?(b.attr({width:i}),b.translate(h,a.y())):(b.attr({width:Math.abs(i)}),b.translate(h+i,a.y()))}}),a.addEvent(a.root,"mouseup",function(){if(g&&0!=i){var b=(i>0?h:h+i)-a.padding("left"),d=Math.floor(b/c),j=Math.ceil((b+Math.abs(i))/c);j>d&&(a.zoom(d,j),e.attr({visibility:"visible"})),f()}})}var b,c,d=this;this.drawBefore=function(a){var d=a.options,e=d.data.length;b=e<d.bufferCount&&e>0?e:d.bufferCount,c=a.width()/b},this.draw=function(b){var c=b.width(),d=b.height(),e=12;return b.svg.group({},function(){var f=b.svg.rect({height:d,fill:b.theme("zoomBackgroundColor"),opacity:.3}),g=b.svg.group({visibility:"hidden"},function(){b.svg.rect({width:c,height:d,fill:b.theme("zoomFocusColor"),opacity:.2}),b.svg.group({cursor:"pointer"},function(){b.svg.path({d:"M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5   l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z",fill:b.theme("zoomFocusColor"),x:c-e,y:-e}).translate(c-e,-e),b.svg.circle({r:e,cx:c,cy:0,opacity:0})}).on("click",function(){g.attr({visibility:"hidden"}),b.page(1)})}).translate(b.x(),b.y());a(b,f,g)})},this.drawSetup=function(){return{}}};return a},"chart.widget.core"),jui.define("chart.widget.cross",["util.base"],function(a){var b=function(b){function c(c){return a.typeCheck("function",b.format)?b.format(c):void 0}var d,e,f,g,h,i=this,j=50,k=18,l=j/10;this.drawBefore=function(c){d=c.svg.group({visibility:"hidden"},function(){e=c.svg.line({x1:0,y1:0,x2:c.width(),y2:0,stroke:c.theme("crossBorderColor"),"stroke-width":c.theme("crossBorderWidth"),opacity:c.theme("crossBorderOpacity")}),f=c.svg.line({x1:0,y1:0,x2:0,y2:c.height(),stroke:c.theme("crossBorderColor"),"stroke-width":c.theme("crossBorderWidth"),opacity:c.theme("crossBorderOpacity")}),a.typeCheck("function",b.format)&&(h=c.svg.group({},function(){c.svg.polygon({fill:c.theme("crossBalloonBackgroundColor"),"fill-opacity":c.theme("crossBalloonOpacity"),points:i.balloonPoints("left",j,k,l)}),c.svg.text({"font-family":c.theme("fontFamily"),"font-size":c.theme("crossBalloonFontSize"),fill:c.theme("crossBalloonFontColor"),"text-anchor":"middle",x:j/2,y:12})}).translate(-(j+l),0),g=c.svg.group({},function(){c.svg.polygon({fill:c.theme("crossBalloonBackgroundColor"),"fill-opacity":c.theme("crossBalloonOpacity"),points:i.balloonPoints("bottom",j,k,l)}),c.svg.text({"font-family":c.theme("fontFamily"),"font-size":c.theme("crossBalloonFontSize"),fill:c.theme("crossBalloonFontColor"),"text-anchor":"middle",x:j/2,y:17})
}).translate(0,c.height()+l))}).translate(c.x(),c.y())},this.draw=function(a){return a.on("bg.mouseover",function(){d.attr({visibility:"visible"})}),a.on("bg.mouseout",function(){d.attr({visibility:"hidden"})}),a.on("bg.mousemove",function(d){var m=a.x()-2,n=a.y()-2,o=i.offset(a,d);e.attr({y1:o.y-n,y2:o.y-n}),f.attr({x1:o.x-m,x2:o.x-m}),h&&(h.translate(-(j+l),o.y-n-k/2),h.get(1).html(c(b.y.invert(o.y-a.y())))),g&&(g.translate(o.x-m-j/2,a.height()+l),g.get(1).html(c(b.x.invert(o.x-a.x()))))}),d},this.drawSetup=function(){return{format:null}}};return b},"chart.widget.core");