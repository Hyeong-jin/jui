<!DOCTYPE HTML>
<html>
<head>
<META charset="UTF-8">
<link rel="stylesheet" href="../../../lib/bootstrap.min.css" />
<link rel="stylesheet" href="../../../lib/animate.min.css" />
<script src="../../../lib/jquery-2.0.3.min.js"></script>
<script src="https://rawgit.com/seogi1004/jui/master/jui.min.js"></script>

<style>
#xtable_1 {
	border-bottom: 1px solid #ddd;
}

#xtable_1 .none {
	font-size: 16px;
	height: 187px;
	line-height: 187px;
	text-align: center;
}

#xtable_1 .loading {
	display: none;
	width: 32px;
	height: 25px;
	background-repeat: no-repeat;
	background-image: url(http://seogi1004.github.io/jui/lib/img/xtable-loading.gif);
}
</style>

<script>
jui.ready(function(ui, uix, _) {
	xtable_1 = uix.xtable("#xtable_1", {
		fields: [ "name", "age", "location" ],
		resize: true,
		colshow: true,
		sort: true,
		sortLoading: true,
		buffer: "scroll", // scroll, page, s-page
		bufferCount: 20,
        animate: true
	});
	
	xtable_1.resize();
});

function run() {
	var result = [], 
		dataSize = 1000000,
		nStart = new Date().getTime();
	
	for(var i = 0; i < dataSize; i++) {
		result.push({ name: "Alvin" + i, age: Math.floor(Math.random() * 100) + 1, location: "LA" });
	}
	
	var nEnd = new Date().getTime(); 
		xtable_1.update(result);
	var nEnd2 = new Date().getTime(); 
	
	alert(
		"임의의 데이터 " + (dataSize / 10000) + "만건을 생성합니다.\n\n" +
		"데이터 생성시간 : " + ((nEnd - nStart) / 1000) + "sec\n" +
		"테이블 갱신시간 : " + ((nEnd2 - nEnd) / 1000) + "sec"
	);
}
</script>
</head>
<body>
<div id="xtable_1">
	<table class="table table-condensed table-bordered">
		<thead>
			<tr>
				<th>Name</th>
				<th>Age</th>
				<th>Location</th>
			</tr>
		</thead>
		<tbody></tbody>
	</table>
</div>
	
<script data-jui="#xtable_1" data-tpl="row" type="text/template">
	<tr>
		<td><!= name !></td>
		<td><!= age !></td>
		<td><!= location !></td>
	</tr>
</script>

<script data-jui="#xtable_1" data-tpl="none" type="text/template">
	<tr>
		<td colspan="3" class="none">Data does not exist.</td>
	</tr>
</script>

<script data-jui="#xtable_1" data-tpl="loading" type="text/template">
	<div class="loading"></div>		
</script>
</body>
</html>